  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (215.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (263.2ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (15.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (56.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (112.5ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (9.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3030521886321936195)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (6.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2026-02-11 05:08:53.677249', '2026-02-11 05:08:53.677254') RETURNING "key"[0m
Migrating to CreateCountries (20260210200908)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3030521886321936195)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (59.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (58.3ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (4.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "phones" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "phones" ("id" bigserial primary key, "brand" character varying, "model" character varying, "full_name" character varying, "storage_gb" integer, "ram_gb" integer, "screen_size" character varying, "processor" character varying, "battery_mah" character varying, "camera_mp" character varying, "os_version" character varying, "specifications" text, "embedding" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "prices" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "prices" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "channel_id" bigint NOT NULL, "price_local" decimal, "price_usd" decimal, "date" date, "embedding" text, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_prices_on_channel_id" ON "prices" ("channel_id")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_prices_on_phone_id" ON "prices" ("phone_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "exchange_rates" ADD CONSTRAINT "fk_rails_e2b32ceb24"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "prices" ADD CONSTRAINT "fk_rails_9401ff23a5"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "prices" ADD CONSTRAINT "fk_rails_a86cfa980b"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "promotions" ADD CONSTRAINT "fk_rails_7a434c535f"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "promotions" ADD CONSTRAINT "fk_rails_abbe211ba0"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "telco_device_prices" ADD CONSTRAINT "fk_rails_418bf58f2d"
FOREIGN KEY ("price_id")
  REFERENCES "prices" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "telco_device_prices" ADD CONSTRAINT "fk_rails_c37cf82cd2"
FOREIGN KEY ("telco_plan_id")
  REFERENCES "telco_plans" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "telco_plans" ADD CONSTRAINT "fk_rails_0dd696eaf2"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20260211000002)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20260211000001),
(20260210200956),
(20260210200954),
(20260210200953),
(20260210200952),
(20260210200950),
(20260210200949),
(20260210200911),
(20260210200909),
(20260210200908);[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2026-02-11 05:09:36.814766', '2026-02-11 05:09:36.814769') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '026dd38b2e7a923dae22d0e62e6410326778ef03', '2026-02-11 05:09:36.818883', '2026-02-11 05:09:36.818885') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (59.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (197.4ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (17.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (40.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (82.3ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (7.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (43.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "meppi_rails_test"[0m
  [1m[35m (50.1ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (7.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "vector"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "ar_internal_metadata" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("id" bigserial primary key, "key" bigint NOT NULL, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "channels" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "channels" ("id" bigserial primary key, "country_id" bigint NOT NULL, "name" character varying, "channel_type" character varying, "url" text, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_channels_on_country_id" ON "channels" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chunks" CASCADE[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "chunks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "content" text, "tokens" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_chunks_on_phone_id" ON "chunks" ("phone_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "code" character varying, "name" character varying, "currency" character varying, "exchange_source" character varying, "priority" integer, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "dubai_benchmarks" CASCADE[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "dubai_benchmarks" ("id" bigserial primary key, "phone_id" bigint NOT NULL, "price_aed" decimal, "price_wholesale" decimal, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_dubai_benchmarks_on_phone_id" ON "dubai_benchmarks" ("phone_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "exchange_rates" CASCADE[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "exchange_rates" ("id" bigserial primary key, "country_id" bigint NOT NULL, "rate_official" decimal, "rate_black_market" decimal, "rate_used" decimal, "date" date, "source" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_exchange_rates_on_country_id" ON "exchange_rates" ("country_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "meppi_trades" CASCADE[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "meppi_trades" ("id" bigserial primary key, "phone_id" bigint, "channel_id" bigint, "country_id" bigint, "title" character varying, "brand" character varying, "price_local" decimal, "price_usd" decimal, "currency" character varying, "stock_status" character varying, "url" text, "trade_type" character varying, "valid_until" date, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_meppi_trades_on_channel_id" ON "meppi_trades" ("channel_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_meppi_trades_on_country_id" ON "meppi_trades" ("country_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_meppi_trades_on_phone_id" ON "meppi_trades" ("phone_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "phones" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "phones" ("id" bigserial primary key, "brand" character varying, "model" character varying, "url" text, "image_url" text, "announced" character varying, "released" character varying, "display_size" character varying, "display_type" character varying, "display_resolution" character varying, "chipset" character varying, "cpu" character varying, "gpu" character varying, "ram" character varying, "storage" text, "main_camera" text, "selfie_camera" text, "battery" text, "os" text, "weight" text, "dimensions" text, "price" text, "specs_json" text, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "prices" CASCADE[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "prices" ("id" bigserial primary key, "phone_id" integer, "channel_id" bigint NOT NULL, "price_local" decimal, "price_usd" decimal, "price_type" character varying, "stock_status" character varying, "url" text, "date" date, "scraped_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "promotions" CASCADE[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "promotions" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "phone_id" bigint NOT NULL, "description" text, "discount_percent" decimal, "discount_amount_local" decimal, "promo_code" character varying, "valid_from" date, "valid_until" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_channel_id" ON "promotions" ("channel_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_promotions_on_phone_id" ON "promotions" ("phone_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_device_prices" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "telco_device_prices" ("id" bigserial primary key, "price_id" bigint NOT NULL, "telco_plan_id" bigint NOT NULL, "device_price_local" decimal, "monthly_installment" decimal, "total_cost_24m_local" decimal, "effective_device_price" decimal, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_price_id" ON "telco_device_prices" ("price_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_telco_device_prices_on_telco_plan_id" ON "telco_device_prices" ("telco_plan_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "telco_plans" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "telco_plans" ("id" bigserial primary key, "channel_id" bigint NOT NULL, "plan_name" character varying, "monthly_fee_local" decimal, "contract_months" integer, "data_gb" character varying, "minutes" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_telco_plans_on_channel_id" ON "telco_plans" ("channel_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "channels" ADD CONSTRAINT "fk_rails_777b809bf0"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "chunks" ADD CONSTRAINT "fk_rails_f69a64ebe1"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "dubai_benchmarks" ADD CONSTRAINT "fk_rails_c1b647005d"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "exchange_rates" ADD CONSTRAINT "fk_rails_e2b32ceb24"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "meppi_trades" ADD CONSTRAINT "fk_rails_df7972a979"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "meppi_trades" ADD CONSTRAINT "fk_rails_844db916a1"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "meppi_trades" ADD CONSTRAINT "fk_rails_128db4c016"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "prices" ADD CONSTRAINT "fk_rails_a86cfa980b"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "promotions" ADD CONSTRAINT "fk_rails_7a434c535f"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "promotions" ADD CONSTRAINT "fk_rails_abbe211ba0"
FOREIGN KEY ("phone_id")
  REFERENCES "phones" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "telco_device_prices" ADD CONSTRAINT "fk_rails_418bf58f2d"
FOREIGN KEY ("price_id")
  REFERENCES "prices" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "telco_device_prices" ADD CONSTRAINT "fk_rails_c37cf82cd2"
FOREIGN KEY ("telco_plan_id")
  REFERENCES "telco_plans" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "telco_plans" ADD CONSTRAINT "fk_rails_0dd696eaf2"
FOREIGN KEY ("channel_id")
  REFERENCES "channels" ("id")
[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20260211200001)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20260211000002),
(20260211000001),
(20260210200956),
(20260210200954),
(20260210200953),
(20260210200952),
(20260210200950),
(20260210200949),
(20260210200911),
(20260210200909),
(20260210200908);[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE DATABASE "meppi_rails_test" ENCODING = 'unicode'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 10:53:45.127665"], ["updated_at", "2026-02-13 10:53:45.144819"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 10:53:45.148896"], ["updated_at", "2026-02-13 10:53:45.149302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 10:54:12.905648"], ["updated_at", "2026-02-13 10:54:12.906100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 10:54:12.908069"], ["updated_at", "2026-02-13 10:54:12.908174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 10:55:01.359094"], ["updated_at", "2026-02-13 10:55:01.359434"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 10:55:01.361902"], ["updated_at", "2026-02-13 10:55:01.362075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.7ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 10:55:01.366873')[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 13:55:17 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 13:55:17 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 13:55:17 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 13:55:48 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 13:55:48 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 13:55:48 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:08:59.336354"], ["updated_at", "2026-02-13 11:08:59.336695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:08:59.338825"], ["updated_at", "2026-02-13 11:08:59.338948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:08:59.342694')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:14:17.262424"], ["updated_at", "2026-02-13 11:14:17.262805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:14:17.264597"], ["updated_at", "2026-02-13 11:14:17.264774"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:14:17.271092')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:14:28.822105"], ["updated_at", "2026-02-13 11:14:28.822504"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:14:28.824273"], ["updated_at", "2026-02-13 11:14:28.824396"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:14:28.828375')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:14:33.868662"], ["updated_at", "2026-02-13 11:14:33.869018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:14:33.871177"], ["updated_at", "2026-02-13 11:14:33.871326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:14:33.875471')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:17:05.142986"], ["updated_at", "2026-02-13 11:17:05.143630"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:17:05.146413"], ["updated_at", "2026-02-13 11:17:05.146706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:17:05.151155')[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:17:05 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:17:05 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:17:05 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 971)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 151)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 140)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.246621"], ["updated_at", "2026-02-13 11:25:05.246621"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.290821"], ["updated_at", "2026-02-13 11:25:05.290821"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.294261"], ["updated_at", "2026-02-13 11:25:05.294261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.296783"], ["updated_at", "2026-02-13 11:25:05.296783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 13ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 5434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.8ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:25:05.346228"], ["updated_at", "2026-02-13 11:25:05.346228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.349725"], ["updated_at", "2026-02-13 11:25:05.349725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:25:05.354940"], ["updated_at", "2026-02-13 11:25:05.354940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.356483"], ["updated_at", "2026-02-13 11:25:05.356483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 225ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 292058)
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.595809"], ["updated_at", "2026-02-13 11:25:05.595809"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.600163"], ["updated_at", "2026-02-13 11:25:05.600163"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (12.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.604898"], ["updated_at", "2026-02-13 11:25:05.604898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:05.620780"], ["updated_at", "2026-02-13 11:25:05.620780"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:29.928342"], ["updated_at", "2026-02-13 11:25:29.928342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (3.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:29.948973"], ["updated_at", "2026-02-13 11:25:29.948973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:29.976656"], ["updated_at", "2026-02-13 11:25:29.976656"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.0ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:29.978783"], ["updated_at", "2026-02-13 11:25:29.978783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:29.981825"], ["updated_at", "2026-02-13 11:25:29.981825"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:29.982991"], ["updated_at", "2026-02-13 11:25:29.982991"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:29.985576"], ["updated_at", "2026-02-13 11:25:29.985576"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.1ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:29.987167"], ["updated_at", "2026-02-13 11:25:29.987167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 15ms (Views: 0.4ms | ActiveRecord: 2.7ms | Allocations: 5425)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:25:30.041015"], ["updated_at", "2026-02-13 11:25:30.041015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.042741"], ["updated_at", "2026-02-13 11:25:30.042741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.043851"], ["updated_at", "2026-02-13 11:25:30.043851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:25:30.046890"], ["updated_at", "2026-02-13 11:25:30.046890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.047752"], ["updated_at", "2026-02-13 11:25:30.047752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.048672"], ["updated_at", "2026-02-13 11:25:30.048672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 217ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 292156)
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.278405"], ["updated_at", "2026-02-13 11:25:30.278405"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.280408"], ["updated_at", "2026-02-13 11:25:30.280408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.282997"], ["updated_at", "2026-02-13 11:25:30.282997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.284131"], ["updated_at", "2026-02-13 11:25:30.284131"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.287648"], ["updated_at", "2026-02-13 11:25:30.287648"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.290206"], ["updated_at", "2026-02-13 11:25:30.290206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "MyString"], ["name", "MyString"], ["currency", "MyString"], ["exchange_source", "MyString"], ["priority", 1], ["active", false], ["created_at", "2026-02-13 11:25:30.294035"], ["updated_at", "2026-02-13 11:25:30.294035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:25:30.295345"], ["updated_at", "2026-02-13 11:25:30.295345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.538884"], ["updated_at", "2026-02-13 11:26:24.538884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.556368"], ["updated_at", "2026-02-13 11:26:24.556368"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.583472"], ["updated_at", "2026-02-13 11:26:24.583472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.586797"], ["updated_at", "2026-02-13 11:26:24.586797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.590830"], ["updated_at", "2026-02-13 11:26:24.590830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.591985"], ["updated_at", "2026-02-13 11:26:24.591985"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.594679"], ["updated_at", "2026-02-13 11:26:24.594679"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.596149"], ["updated_at", "2026-02-13 11:26:24.596149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 14ms (ActiveRecord: 2.6ms | Allocations: 5343)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:24.654060"], ["updated_at", "2026-02-13 11:26:24.654060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.656746"], ["updated_at", "2026-02-13 11:26:24.656746"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.658375"], ["updated_at", "2026-02-13 11:26:24.658375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:24.662423"], ["updated_at", "2026-02-13 11:26:24.662423"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.664769"], ["updated_at", "2026-02-13 11:26:24.664769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.667246"], ["updated_at", "2026-02-13 11:26:24.667246"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 244ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 292272)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.926448"], ["updated_at", "2026-02-13 11:26:24.926448"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.929020"], ["updated_at", "2026-02-13 11:26:24.929020"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.933273"], ["updated_at", "2026-02-13 11:26:24.933273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.935197"], ["updated_at", "2026-02-13 11:26:24.935197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.937591"], ["updated_at", "2026-02-13 11:26:24.937591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.938697"], ["updated_at", "2026-02-13 11:26:24.938697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.940524"], ["updated_at", "2026-02-13 11:26:24.940524"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.941435"], ["updated_at", "2026-02-13 11:26:24.941435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:24.944179"], ["updated_at", "2026-02-13 11:26:24.944179"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 0], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:24.945660"], ["updated_at", "2026-02-13 11:26:24.945660"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.450107"], ["updated_at", "2026-02-13 11:26:48.450107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.0ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 32], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.481458"], ["updated_at", "2026-02-13 11:26:48.481458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.564297"], ["updated_at", "2026-02-13 11:26:48.564297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 7], ["channel_id", 22], ["country_id", 32], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.583427"], ["updated_at", "2026-02-13 11:26:48.583427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 7]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 22]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 32]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.9ms | Allocations: 4169)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.632551"], ["updated_at", "2026-02-13 11:26:48.632551"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 33], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.634758"], ["updated_at", "2026-02-13 11:26:48.634758"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.638132"], ["updated_at", "2026-02-13 11:26:48.638132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 8], ["channel_id", 23], ["country_id", 33], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.640330"], ["updated_at", "2026-02-13 11:26:48.640330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 8]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 23]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 33]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.6ms | Allocations: 1425)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.648208"], ["updated_at", "2026-02-13 11:26:48.648208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 34], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.650115"], ["updated_at", "2026-02-13 11:26:48.650115"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.651949"], ["updated_at", "2026-02-13 11:26:48.651949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 9], ["channel_id", 24], ["country_id", 34], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.653633"], ["updated_at", "2026-02-13 11:26:48.653633"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 545)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.660011"], ["updated_at", "2026-02-13 11:26:48.660011"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 35], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.662717"], ["updated_at", "2026-02-13 11:26:48.662717"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.665878"], ["updated_at", "2026-02-13 11:26:48.665878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 10], ["channel_id", 25], ["country_id", 35], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.668072"], ["updated_at", "2026-02-13 11:26:48.668072"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms | Allocations: 329)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.4ms | Allocations: 310)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.681596"], ["updated_at", "2026-02-13 11:26:48.681596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.682896"], ["updated_at", "2026-02-13 11:26:48.682896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 36], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.684177"], ["updated_at", "2026-02-13 11:26:48.684177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"26", "country_id"=>"36", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"11", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 11], ["channel_id", 26], ["country_id", 36], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.688433"], ["updated_at", "2026-02-13 11:26:48.688433"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 991)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.693213"], ["updated_at", "2026-02-13 11:26:48.693213"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.694393"], ["updated_at", "2026-02-13 11:26:48.694393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 37], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.695929"], ["updated_at", "2026-02-13 11:26:48.695929"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"27", "country_id"=>"37", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"12", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 12], ["channel_id", 27], ["country_id", 37], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.700040"], ["updated_at", "2026-02-13 11:26:48.700040"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.0ms | Allocations: 892)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 257ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 283373)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.967726"], ["updated_at", "2026-02-13 11:26:48.967726"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 38], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.969924"], ["updated_at", "2026-02-13 11:26:48.969924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.972044"], ["updated_at", "2026-02-13 11:26:48.972044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 13], ["channel_id", 28], ["country_id", 38], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.973642"], ["updated_at", "2026-02-13 11:26:48.973642"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"23"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:26:48.976694"], ["id", 23]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.9ms | Allocations: 1050)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.981045"], ["updated_at", "2026-02-13 11:26:48.981045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 39], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.983560"], ["updated_at", "2026-02-13 11:26:48.983560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.986335"], ["updated_at", "2026-02-13 11:26:48.986335"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 14], ["channel_id", 29], ["country_id", 39], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:48.988410"], ["updated_at", "2026-02-13 11:26:48.988410"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"24"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:26:48.991242"], ["id", 24]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 876)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:48.994015"], ["updated_at", "2026-02-13 11:26:48.994015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 40], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:48.996273"], ["updated_at", "2026-02-13 11:26:48.996273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:48.999189"], ["updated_at", "2026-02-13 11:26:48.999189"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 15], ["channel_id", 30], ["country_id", 40], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:49.001748"], ["updated_at", "2026-02-13 11:26:49.001748"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 25]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:49.007623"], ["updated_at", "2026-02-13 11:26:49.007623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 41], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:49.008813"], ["updated_at", "2026-02-13 11:26:49.008813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:49.011139"], ["updated_at", "2026-02-13 11:26:49.011139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 16], ["channel_id", 31], ["country_id", 41], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:49.013133"], ["updated_at", "2026-02-13 11:26:49.013133"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"26"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.8ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 26]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:26:49.021211"], ["updated_at", "2026-02-13 11:26:49.021211"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 42], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:26:49.023172"], ["updated_at", "2026-02-13 11:26:49.023172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:26:49.025423"], ["updated_at", "2026-02-13 11:26:49.025423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 17], ["channel_id", 32], ["country_id", 42], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:26:49.027454"], ["updated_at", "2026-02-13 11:26:49.027454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.236452"], ["updated_at", "2026-02-13 11:27:46.236452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.1ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 43], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.262222"], ["updated_at", "2026-02-13 11:27:46.262222"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.340398"], ["updated_at", "2026-02-13 11:27:46.340398"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 18], ["channel_id", 33], ["country_id", 43], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.357960"], ["updated_at", "2026-02-13 11:27:46.357960"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.1ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 18]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 33]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 43]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 4598)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.408581"], ["updated_at", "2026-02-13 11:27:46.408581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 44], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.411387"], ["updated_at", "2026-02-13 11:27:46.411387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.414056"], ["updated_at", "2026-02-13 11:27:46.414056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 19], ["channel_id", 34], ["country_id", 44], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.415601"], ["updated_at", "2026-02-13 11:27:46.415601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 19]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 34]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 44]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.429254"], ["updated_at", "2026-02-13 11:27:46.429254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 45], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.431301"], ["updated_at", "2026-02-13 11:27:46.431301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.434031"], ["updated_at", "2026-02-13 11:27:46.434031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 20], ["channel_id", 35], ["country_id", 45], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.436108"], ["updated_at", "2026-02-13 11:27:46.436108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.443560"], ["updated_at", "2026-02-13 11:27:46.443560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 46], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.445393"], ["updated_at", "2026-02-13 11:27:46.445393"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.448515"], ["updated_at", "2026-02-13 11:27:46.448515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 21], ["channel_id", 36], ["country_id", 46], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.450675"], ["updated_at", "2026-02-13 11:27:46.450675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.464217"], ["updated_at", "2026-02-13 11:27:46.464217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.466018"], ["updated_at", "2026-02-13 11:27:46.466018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 47], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.468297"], ["updated_at", "2026-02-13 11:27:46.468297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"37", "country_id"=>"47", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"22", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 22], ["channel_id", 37], ["country_id", 47], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.473878"], ["updated_at", "2026-02-13 11:27:46.473878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.478551"], ["updated_at", "2026-02-13 11:27:46.478551"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.479892"], ["updated_at", "2026-02-13 11:27:46.479892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 48], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.481096"], ["updated_at", "2026-02-13 11:27:46.481096"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"38", "country_id"=>"48", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"23", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 23], ["channel_id", 38], ["country_id", 48], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.483673"], ["updated_at", "2026-02-13 11:27:46.483673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 936)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 256ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283243)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.751809"], ["updated_at", "2026-02-13 11:27:46.751809"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 49], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.753508"], ["updated_at", "2026-02-13 11:27:46.753508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.755385"], ["updated_at", "2026-02-13 11:27:46.755385"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 24], ["channel_id", 39], ["country_id", 49], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.756873"], ["updated_at", "2026-02-13 11:27:46.756873"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"34"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.6ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:46.759402"], ["id", 34]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.763941"], ["updated_at", "2026-02-13 11:27:46.763941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 50], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.765375"], ["updated_at", "2026-02-13 11:27:46.765375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.767591"], ["updated_at", "2026-02-13 11:27:46.767591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 25], ["channel_id", 40], ["country_id", 50], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.770001"], ["updated_at", "2026-02-13 11:27:46.770001"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"35"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:46.772895"], ["id", 35]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.776139"], ["updated_at", "2026-02-13 11:27:46.776139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 51], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.777341"], ["updated_at", "2026-02-13 11:27:46.777341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.779710"], ["updated_at", "2026-02-13 11:27:46.779710"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 26], ["channel_id", 41], ["country_id", 51], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.781471"], ["updated_at", "2026-02-13 11:27:46.781471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"36"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 36]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.787446"], ["updated_at", "2026-02-13 11:27:46.787446"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 52], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.789299"], ["updated_at", "2026-02-13 11:27:46.789299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.791346"], ["updated_at", "2026-02-13 11:27:46.791346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 27], ["channel_id", 42], ["country_id", 52], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.792922"], ["updated_at", "2026-02-13 11:27:46.792922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"37"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 37]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:46.798734"], ["updated_at", "2026-02-13 11:27:46.798734"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 53], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:46.800298"], ["updated_at", "2026-02-13 11:27:46.800298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:46.802143"], ["updated_at", "2026-02-13 11:27:46.802143"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 28], ["channel_id", 43], ["country_id", 53], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:46.803943"], ["updated_at", "2026-02-13 11:27:46.803943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.234229"], ["updated_at", "2026-02-13 11:27:51.234229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 54], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.257080"], ["updated_at", "2026-02-13 11:27:51.257080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.363556"], ["updated_at", "2026-02-13 11:27:51.363556"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 29], ["channel_id", 44], ["country_id", 54], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.380379"], ["updated_at", "2026-02-13 11:27:51.380379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.5ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 29]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 44]]
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 54]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 4600)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.428709"], ["updated_at", "2026-02-13 11:27:51.428709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 55], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.431645"], ["updated_at", "2026-02-13 11:27:51.431645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.433897"], ["updated_at", "2026-02-13 11:27:51.433897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 30], ["channel_id", 45], ["country_id", 55], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.435490"], ["updated_at", "2026-02-13 11:27:51.435490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.1ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 30]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 45]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 55]]
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.446252"], ["updated_at", "2026-02-13 11:27:51.446252"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 56], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.448584"], ["updated_at", "2026-02-13 11:27:51.448584"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.451401"], ["updated_at", "2026-02-13 11:27:51.451401"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 31], ["channel_id", 46], ["country_id", 56], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.453897"], ["updated_at", "2026-02-13 11:27:51.453897"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.461247"], ["updated_at", "2026-02-13 11:27:51.461247"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 57], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.463008"], ["updated_at", "2026-02-13 11:27:51.463008"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.465153"], ["updated_at", "2026-02-13 11:27:51.465153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 32], ["channel_id", 47], ["country_id", 57], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.466959"], ["updated_at", "2026-02-13 11:27:51.466959"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"42"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.1ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.476286"], ["updated_at", "2026-02-13 11:27:51.476286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.477606"], ["updated_at", "2026-02-13 11:27:51.477606"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 58], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.479357"], ["updated_at", "2026-02-13 11:27:51.479357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"48", "country_id"=>"58", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"33", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 33], ["channel_id", 48], ["country_id", 58], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.485637"], ["updated_at", "2026-02-13 11:27:51.485637"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.490779"], ["updated_at", "2026-02-13 11:27:51.490779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.491925"], ["updated_at", "2026-02-13 11:27:51.491925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 59], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.492917"], ["updated_at", "2026-02-13 11:27:51.492917"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"49", "country_id"=>"59", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"34", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 34], ["channel_id", 49], ["country_id", 59], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.494992"], ["updated_at", "2026-02-13 11:27:51.494992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 246ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283251)
  [1m[36mMeppiTrade Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.753475"], ["updated_at", "2026-02-13 11:27:51.753475"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 60], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.755247"], ["updated_at", "2026-02-13 11:27:51.755247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.756891"], ["updated_at", "2026-02-13 11:27:51.756891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 35], ["channel_id", 50], ["country_id", 60], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.758565"], ["updated_at", "2026-02-13 11:27:51.758565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"45"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:51.761629"], ["id", 45]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.766883"], ["updated_at", "2026-02-13 11:27:51.766883"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 61], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.769138"], ["updated_at", "2026-02-13 11:27:51.769138"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.772210"], ["updated_at", "2026-02-13 11:27:51.772210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 36], ["channel_id", 51], ["country_id", 61], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.773923"], ["updated_at", "2026-02-13 11:27:51.773923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"46"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.3ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:51.776395"], ["id", 46]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.780414"], ["updated_at", "2026-02-13 11:27:51.780414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 62], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.781738"], ["updated_at", "2026-02-13 11:27:51.781738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.783632"], ["updated_at", "2026-02-13 11:27:51.783632"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 37], ["channel_id", 52], ["country_id", 62], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.785285"], ["updated_at", "2026-02-13 11:27:51.785285"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"47"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (1.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.796991"], ["updated_at", "2026-02-13 11:27:51.796991"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 63], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.799479"], ["updated_at", "2026-02-13 11:27:51.799479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.802454"], ["updated_at", "2026-02-13 11:27:51.802454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 38], ["channel_id", 53], ["country_id", 63], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.804729"], ["updated_at", "2026-02-13 11:27:51.804729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"48"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.6ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 48]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:51.811975"], ["updated_at", "2026-02-13 11:27:51.811975"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 64], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:51.813832"], ["updated_at", "2026-02-13 11:27:51.813832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:51.816938"], ["updated_at", "2026-02-13 11:27:51.816938"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 39], ["channel_id", 54], ["country_id", 64], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:51.819785"], ["updated_at", "2026-02-13 11:27:51.819785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.632442"], ["updated_at", "2026-02-13 11:27:57.632442"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.1ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 65], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.660837"], ["updated_at", "2026-02-13 11:27:57.660837"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.727285"], ["updated_at", "2026-02-13 11:27:57.727285"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 40], ["channel_id", 55], ["country_id", 65], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.739743"], ["updated_at", "2026-02-13 11:27:57.739743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 40]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 55]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 65]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 4600)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.774510"], ["updated_at", "2026-02-13 11:27:57.774510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 66], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.775927"], ["updated_at", "2026-02-13 11:27:57.775927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.777533"], ["updated_at", "2026-02-13 11:27:57.777533"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 41], ["channel_id", 56], ["country_id", 66], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.779018"], ["updated_at", "2026-02-13 11:27:57.779018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 41]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 56]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 66]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.786972"], ["updated_at", "2026-02-13 11:27:57.786972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 67], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.787894"], ["updated_at", "2026-02-13 11:27:57.787894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.789190"], ["updated_at", "2026-02-13 11:27:57.789190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 42], ["channel_id", 57], ["country_id", 67], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.790318"], ["updated_at", "2026-02-13 11:27:57.790318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"52"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.794133"], ["updated_at", "2026-02-13 11:27:57.794133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 68], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.795270"], ["updated_at", "2026-02-13 11:27:57.795270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.796945"], ["updated_at", "2026-02-13 11:27:57.796945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 43], ["channel_id", 58], ["country_id", 68], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.798618"], ["updated_at", "2026-02-13 11:27:57.798618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.1ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.804987"], ["updated_at", "2026-02-13 11:27:57.804987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.805913"], ["updated_at", "2026-02-13 11:27:57.805913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 69], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.806767"], ["updated_at", "2026-02-13 11:27:57.806767"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"59", "country_id"=>"69", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"44", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 44], ["channel_id", 59], ["country_id", 69], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.810282"], ["updated_at", "2026-02-13 11:27:57.810282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:57.814097"], ["updated_at", "2026-02-13 11:27:57.814097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:57.815092"], ["updated_at", "2026-02-13 11:27:57.815092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 70], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:57.816010"], ["updated_at", "2026-02-13 11:27:57.816010"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"60", "country_id"=>"70", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"45", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 45], ["channel_id", 60], ["country_id", 70], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:57.818185"], ["updated_at", "2026-02-13 11:27:57.818185"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 203ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283155)
  [1m[36mMeppiTrade Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:58.033287"], ["updated_at", "2026-02-13 11:27:58.033287"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 71], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:58.035434"], ["updated_at", "2026-02-13 11:27:58.035434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:58.037676"], ["updated_at", "2026-02-13 11:27:58.037676"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 46], ["channel_id", 61], ["country_id", 71], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:58.039451"], ["updated_at", "2026-02-13 11:27:58.039451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"56"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:58.041482"], ["id", 56]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:58.044778"], ["updated_at", "2026-02-13 11:27:58.044778"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 72], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:58.047296"], ["updated_at", "2026-02-13 11:27:58.047296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:58.050021"], ["updated_at", "2026-02-13 11:27:58.050021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 47], ["channel_id", 62], ["country_id", 72], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:58.051959"], ["updated_at", "2026-02-13 11:27:58.051959"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"57"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:27:58.055467"], ["id", 57]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:58.059984"], ["updated_at", "2026-02-13 11:27:58.059984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 73], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:58.061466"], ["updated_at", "2026-02-13 11:27:58.061466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:58.063540"], ["updated_at", "2026-02-13 11:27:58.063540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 48], ["channel_id", 63], ["country_id", 73], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:58.064990"], ["updated_at", "2026-02-13 11:27:58.064990"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"58"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.6ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 58]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:58.073386"], ["updated_at", "2026-02-13 11:27:58.073386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 74], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:58.075346"], ["updated_at", "2026-02-13 11:27:58.075346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:58.077270"], ["updated_at", "2026-02-13 11:27:58.077270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 49], ["channel_id", 64], ["country_id", 74], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:58.078778"], ["updated_at", "2026-02-13 11:27:58.078778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"59"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 59]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:27:58.084433"], ["updated_at", "2026-02-13 11:27:58.084433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 75], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:27:58.085766"], ["updated_at", "2026-02-13 11:27:58.085766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:27:58.088009"], ["updated_at", "2026-02-13 11:27:58.088009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 50], ["channel_id", 65], ["country_id", 75], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:27:58.089528"], ["updated_at", "2026-02-13 11:27:58.089528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.361460"], ["updated_at", "2026-02-13 11:28:25.361460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 76], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.389229"], ["updated_at", "2026-02-13 11:28:25.389229"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.472598"], ["updated_at", "2026-02-13 11:28:25.472598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 51], ["channel_id", 66], ["country_id", 76], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.490272"], ["updated_at", "2026-02-13 11:28:25.490272"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 51]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 66]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 76]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 4600)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.539359"], ["updated_at", "2026-02-13 11:28:25.539359"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 77], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.543566"], ["updated_at", "2026-02-13 11:28:25.543566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.546006"], ["updated_at", "2026-02-13 11:28:25.546006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 52], ["channel_id", 67], ["country_id", 77], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.547481"], ["updated_at", "2026-02-13 11:28:25.547481"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 52]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 67]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 77]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.558270"], ["updated_at", "2026-02-13 11:28:25.558270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 78], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.559631"], ["updated_at", "2026-02-13 11:28:25.559631"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.562754"], ["updated_at", "2026-02-13 11:28:25.562754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 53], ["channel_id", 68], ["country_id", 78], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.564423"], ["updated_at", "2026-02-13 11:28:25.564423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"63"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 614)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.569054"], ["updated_at", "2026-02-13 11:28:25.569054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 79], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.570614"], ["updated_at", "2026-02-13 11:28:25.570614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.572314"], ["updated_at", "2026-02-13 11:28:25.572314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 54], ["channel_id", 69], ["country_id", 79], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.573560"], ["updated_at", "2026-02-13 11:28:25.573560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"64"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.5ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.586591"], ["updated_at", "2026-02-13 11:28:25.586591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.587799"], ["updated_at", "2026-02-13 11:28:25.587799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 80], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.588946"], ["updated_at", "2026-02-13 11:28:25.588946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"70", "country_id"=>"80", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"55", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 55], ["channel_id", 70], ["country_id", 80], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.592614"], ["updated_at", "2026-02-13 11:28:25.592614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.597398"], ["updated_at", "2026-02-13 11:28:25.597398"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.598892"], ["updated_at", "2026-02-13 11:28:25.598892"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 81], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.600870"], ["updated_at", "2026-02-13 11:28:25.600870"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"71", "country_id"=>"81", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"56", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 56], ["channel_id", 71], ["country_id", 81], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.604610"], ["updated_at", "2026-02-13 11:28:25.604610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 264ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283156)
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.882710"], ["updated_at", "2026-02-13 11:28:25.882710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 82], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.884595"], ["updated_at", "2026-02-13 11:28:25.884595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.886325"], ["updated_at", "2026-02-13 11:28:25.886325"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 57], ["channel_id", 72], ["country_id", 82], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.887766"], ["updated_at", "2026-02-13 11:28:25.887766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"67"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:28:25.891423"], ["id", 67]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.896254"], ["updated_at", "2026-02-13 11:28:25.896254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 83], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.897716"], ["updated_at", "2026-02-13 11:28:25.897716"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.900760"], ["updated_at", "2026-02-13 11:28:25.900760"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 58], ["channel_id", 73], ["country_id", 83], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.902909"], ["updated_at", "2026-02-13 11:28:25.902909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"68"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:28:25.906271"], ["id", 68]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.910628"], ["updated_at", "2026-02-13 11:28:25.910628"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 84], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.912658"], ["updated_at", "2026-02-13 11:28:25.912658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.915122"], ["updated_at", "2026-02-13 11:28:25.915122"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 59], ["channel_id", 74], ["country_id", 84], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.917006"], ["updated_at", "2026-02-13 11:28:25.917006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"69"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 69]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.922888"], ["updated_at", "2026-02-13 11:28:25.922888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 85], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.924107"], ["updated_at", "2026-02-13 11:28:25.924107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.925768"], ["updated_at", "2026-02-13 11:28:25.925768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 60], ["channel_id", 75], ["country_id", 85], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.927129"], ["updated_at", "2026-02-13 11:28:25.927129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"70"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 70]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:28:25.932026"], ["updated_at", "2026-02-13 11:28:25.932026"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 86], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:28:25.933702"], ["updated_at", "2026-02-13 11:28:25.933702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:28:25.935721"], ["updated_at", "2026-02-13 11:28:25.935721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 61], ["channel_id", 76], ["country_id", 86], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:28:25.937763"], ["updated_at", "2026-02-13 11:28:25.937763"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.717029"], ["updated_at", "2026-02-13 11:31:07.717029"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.0ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 87], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.726272"], ["updated_at", "2026-02-13 11:31:07.726272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.743530"], ["updated_at", "2026-02-13 11:31:07.743530"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 62], ["channel_id", 77], ["country_id", 87], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.756244"], ["updated_at", "2026-02-13 11:31:07.756244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 62]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 77]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 87]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 4589)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.794770"], ["updated_at", "2026-02-13 11:31:07.794770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 88], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.804350"], ["updated_at", "2026-02-13 11:31:07.804350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.806826"], ["updated_at", "2026-02-13 11:31:07.806826"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 63], ["channel_id", 78], ["country_id", 88], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.808978"], ["updated_at", "2026-02-13 11:31:07.808978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 63]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 78]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 88]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.816780"], ["updated_at", "2026-02-13 11:31:07.816780"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 89], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.817993"], ["updated_at", "2026-02-13 11:31:07.817993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.819416"], ["updated_at", "2026-02-13 11:31:07.819416"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 64], ["channel_id", 79], ["country_id", 89], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.820723"], ["updated_at", "2026-02-13 11:31:07.820723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"74"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.824657"], ["updated_at", "2026-02-13 11:31:07.824657"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 90], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.825761"], ["updated_at", "2026-02-13 11:31:07.825761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.827376"], ["updated_at", "2026-02-13 11:31:07.827376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 65], ["channel_id", 80], ["country_id", 90], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.828732"], ["updated_at", "2026-02-13 11:31:07.828732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"75"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.837728"], ["updated_at", "2026-02-13 11:31:07.837728"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.838969"], ["updated_at", "2026-02-13 11:31:07.838969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 91], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.839946"], ["updated_at", "2026-02-13 11:31:07.839946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"81", "country_id"=>"91", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"66", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 66], ["channel_id", 81], ["country_id", 91], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.843366"], ["updated_at", "2026-02-13 11:31:07.843366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:07.847447"], ["updated_at", "2026-02-13 11:31:07.847447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:07.849205"], ["updated_at", "2026-02-13 11:31:07.849205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 92], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:07.851273"], ["updated_at", "2026-02-13 11:31:07.851273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"82", "country_id"=>"92", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"67", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 67], ["channel_id", 82], ["country_id", 92], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:07.855535"], ["updated_at", "2026-02-13 11:31:07.855535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 228ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283153)
  [1m[36mMeppiTrade Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:08.097289"], ["updated_at", "2026-02-13 11:31:08.097289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 93], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:08.098760"], ["updated_at", "2026-02-13 11:31:08.098760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:08.100990"], ["updated_at", "2026-02-13 11:31:08.100990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 68], ["channel_id", 83], ["country_id", 93], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:08.102324"], ["updated_at", "2026-02-13 11:31:08.102324"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"78"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:08.105607"], ["id", 78]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:08.111392"], ["updated_at", "2026-02-13 11:31:08.111392"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 94], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:08.113275"], ["updated_at", "2026-02-13 11:31:08.113275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:08.115294"], ["updated_at", "2026-02-13 11:31:08.115294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 69], ["channel_id", 84], ["country_id", 94], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:08.116683"], ["updated_at", "2026-02-13 11:31:08.116683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"79"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.3ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:08.119532"], ["id", 79]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:08.122768"], ["updated_at", "2026-02-13 11:31:08.122768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 95], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:08.124008"], ["updated_at", "2026-02-13 11:31:08.124008"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:08.126574"], ["updated_at", "2026-02-13 11:31:08.126574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 70], ["channel_id", 85], ["country_id", 95], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:08.128131"], ["updated_at", "2026-02-13 11:31:08.128131"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"80"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 80]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:08.136502"], ["updated_at", "2026-02-13 11:31:08.136502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 96], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:08.138423"], ["updated_at", "2026-02-13 11:31:08.138423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:08.140662"], ["updated_at", "2026-02-13 11:31:08.140662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 71], ["channel_id", 86], ["country_id", 96], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:08.142406"], ["updated_at", "2026-02-13 11:31:08.142406"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"81"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 81]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:08.149010"], ["updated_at", "2026-02-13 11:31:08.149010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 97], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:08.151328"], ["updated_at", "2026-02-13 11:31:08.151328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:08.153160"], ["updated_at", "2026-02-13 11:31:08.153160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 72], ["channel_id", 87], ["country_id", 97], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:08.154856"], ["updated_at", "2026-02-13 11:31:08.154856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:31:08.173084"], ["updated_at", "2026-02-13 11:31:08.173434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:31:08.175118"], ["updated_at", "2026-02-13 11:31:08.175261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:31:08.176913')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:08 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 322)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:08 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:08 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:08 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 476)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.080985"], ["updated_at", "2026-02-13 11:31:14.080985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 98], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.095646"], ["updated_at", "2026-02-13 11:31:14.095646"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.123060"], ["updated_at", "2026-02-13 11:31:14.123060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 73], ["channel_id", 88], ["country_id", 98], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.139676"], ["updated_at", "2026-02-13 11:31:14.139676"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.7ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 73]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 88]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 98]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4589)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.184760"], ["updated_at", "2026-02-13 11:31:14.184760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 99], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.186575"], ["updated_at", "2026-02-13 11:31:14.186575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.199119"], ["updated_at", "2026-02-13 11:31:14.199119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 74], ["channel_id", 89], ["country_id", 99], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.201286"], ["updated_at", "2026-02-13 11:31:14.201286"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (1.4ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 74]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 89]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 99]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.216108"], ["updated_at", "2026-02-13 11:31:14.216108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 100], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.218402"], ["updated_at", "2026-02-13 11:31:14.218402"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.6ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.223512"], ["updated_at", "2026-02-13 11:31:14.223512"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 75], ["channel_id", 90], ["country_id", 100], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.226328"], ["updated_at", "2026-02-13 11:31:14.226328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"87"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.231526"], ["updated_at", "2026-02-13 11:31:14.231526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 101], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.232849"], ["updated_at", "2026-02-13 11:31:14.232849"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.234786"], ["updated_at", "2026-02-13 11:31:14.234786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 76], ["channel_id", 91], ["country_id", 101], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.236220"], ["updated_at", "2026-02-13 11:31:14.236220"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"88"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.244554"], ["updated_at", "2026-02-13 11:31:14.244554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.246023"], ["updated_at", "2026-02-13 11:31:14.246023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 102], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.247014"], ["updated_at", "2026-02-13 11:31:14.247014"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"92", "country_id"=>"102", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"77", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 77], ["channel_id", 92], ["country_id", 102], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.250672"], ["updated_at", "2026-02-13 11:31:14.250672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.254603"], ["updated_at", "2026-02-13 11:31:14.254603"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.256018"], ["updated_at", "2026-02-13 11:31:14.256018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 103], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.257191"], ["updated_at", "2026-02-13 11:31:14.257191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"93", "country_id"=>"103", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"78", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 78], ["channel_id", 93], ["country_id", 103], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.259183"], ["updated_at", "2026-02-13 11:31:14.259183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 217ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283153)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.485609"], ["updated_at", "2026-02-13 11:31:14.485609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 104], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.486945"], ["updated_at", "2026-02-13 11:31:14.486945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.488718"], ["updated_at", "2026-02-13 11:31:14.488718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 79], ["channel_id", 94], ["country_id", 104], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.490060"], ["updated_at", "2026-02-13 11:31:14.490060"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"91"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.6ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:14.494445"], ["id", 91]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.498757"], ["updated_at", "2026-02-13 11:31:14.498757"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 105], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.500107"], ["updated_at", "2026-02-13 11:31:14.500107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.502152"], ["updated_at", "2026-02-13 11:31:14.502152"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 80], ["channel_id", 95], ["country_id", 105], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.503693"], ["updated_at", "2026-02-13 11:31:14.503693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"92"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:14.506407"], ["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.510040"], ["updated_at", "2026-02-13 11:31:14.510040"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 106], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.511772"], ["updated_at", "2026-02-13 11:31:14.511772"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.514375"], ["updated_at", "2026-02-13 11:31:14.514375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 81], ["channel_id", 96], ["country_id", 106], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.516054"], ["updated_at", "2026-02-13 11:31:14.516054"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"93"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 93]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.523872"], ["updated_at", "2026-02-13 11:31:14.523872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 107], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.525421"], ["updated_at", "2026-02-13 11:31:14.525421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.527137"], ["updated_at", "2026-02-13 11:31:14.527137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 82], ["channel_id", 97], ["country_id", 107], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.528476"], ["updated_at", "2026-02-13 11:31:14.528476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"94"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 94]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:14.533753"], ["updated_at", "2026-02-13 11:31:14.533753"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 108], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:14.535501"], ["updated_at", "2026-02-13 11:31:14.535501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:14.537097"], ["updated_at", "2026-02-13 11:31:14.537097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 83], ["channel_id", 98], ["country_id", 108], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:14.538402"], ["updated_at", "2026-02-13 11:31:14.538402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:31:14.553659"], ["updated_at", "2026-02-13 11:31:14.553930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:31:14.555477"], ["updated_at", "2026-02-13 11:31:14.555631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:31:14.556783')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:14 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 322)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:14 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:14 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:15 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:31:15 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>1, "channel_id"=>1, "country_id"=>1, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 1], ["channel_id", 1], ["country_id", 1], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:31:15.227053"], ["updated_at", "2026-02-13 11:31:15.227053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.9ms | Allocations: 917)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:31:15 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 978)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.048844"], ["updated_at", "2026-02-13 11:31:29.048844"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 109], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.058345"], ["updated_at", "2026-02-13 11:31:29.058345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.081000"], ["updated_at", "2026-02-13 11:31:29.081000"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 84], ["channel_id", 99], ["country_id", 109], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.098378"], ["updated_at", "2026-02-13 11:31:29.098378"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 84]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 99]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 109]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 4589)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.154229"], ["updated_at", "2026-02-13 11:31:29.154229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 110], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.155508"], ["updated_at", "2026-02-13 11:31:29.155508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.156965"], ["updated_at", "2026-02-13 11:31:29.156965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 85], ["channel_id", 100], ["country_id", 110], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.158721"], ["updated_at", "2026-02-13 11:31:29.158721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.1ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 85]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 100]]
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 110]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1635)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.168384"], ["updated_at", "2026-02-13 11:31:29.168384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 111], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.169558"], ["updated_at", "2026-02-13 11:31:29.169558"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.170961"], ["updated_at", "2026-02-13 11:31:29.170961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 86], ["channel_id", 101], ["country_id", 111], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.172193"], ["updated_at", "2026-02-13 11:31:29.172193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 614)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.176227"], ["updated_at", "2026-02-13 11:31:29.176227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 112], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.177166"], ["updated_at", "2026-02-13 11:31:29.177166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.178854"], ["updated_at", "2026-02-13 11:31:29.178854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 87], ["channel_id", 102], ["country_id", 112], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.180022"], ["updated_at", "2026-02-13 11:31:29.180022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"102"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.191249"], ["updated_at", "2026-02-13 11:31:29.191249"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.192916"], ["updated_at", "2026-02-13 11:31:29.192916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 113], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.194256"], ["updated_at", "2026-02-13 11:31:29.194256"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"103", "country_id"=>"113", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"88", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 88], ["channel_id", 103], ["country_id", 113], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.200939"], ["updated_at", "2026-02-13 11:31:29.200939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 1026)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.208430"], ["updated_at", "2026-02-13 11:31:29.208430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.210568"], ["updated_at", "2026-02-13 11:31:29.210568"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 114], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.212115"], ["updated_at", "2026-02-13 11:31:29.212115"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"104", "country_id"=>"114", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"89", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 89], ["channel_id", 104], ["country_id", 114], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.214926"], ["updated_at", "2026-02-13 11:31:29.214926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 212ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283154)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1308)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.437466"], ["updated_at", "2026-02-13 11:31:29.437466"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 115], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.438926"], ["updated_at", "2026-02-13 11:31:29.438926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.440694"], ["updated_at", "2026-02-13 11:31:29.440694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 90], ["channel_id", 105], ["country_id", 115], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.442014"], ["updated_at", "2026-02-13 11:31:29.442014"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"105"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:29.444340"], ["id", 105]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.448041"], ["updated_at", "2026-02-13 11:31:29.448041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 116], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.449021"], ["updated_at", "2026-02-13 11:31:29.449021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.450514"], ["updated_at", "2026-02-13 11:31:29.450514"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 91], ["channel_id", 106], ["country_id", 116], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.452010"], ["updated_at", "2026-02-13 11:31:29.452010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"106"}
  [1m[36mMeppiTrade Load (0.8ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:31:29.456482"], ["id", 106]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.461832"], ["updated_at", "2026-02-13 11:31:29.461832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 117], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.463833"], ["updated_at", "2026-02-13 11:31:29.463833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.466238"], ["updated_at", "2026-02-13 11:31:29.466238"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 92], ["channel_id", 107], ["country_id", 117], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.468247"], ["updated_at", "2026-02-13 11:31:29.468247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"107"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 107]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.475851"], ["updated_at", "2026-02-13 11:31:29.475851"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 118], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.477505"], ["updated_at", "2026-02-13 11:31:29.477505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.481303"], ["updated_at", "2026-02-13 11:31:29.481303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 93], ["channel_id", 108], ["country_id", 118], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.483487"], ["updated_at", "2026-02-13 11:31:29.483487"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"108"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.5ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 108]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:31:29.490175"], ["updated_at", "2026-02-13 11:31:29.490175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 119], ["name", "MyString"], ["channel_type", "retail"], ["url", "https://example.com"], ["active", true], ["created_at", "2026-02-13 11:31:29.491353"], ["updated_at", "2026-02-13 11:31:29.491353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "MyText"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "MyString"], ["model", "MyString"], ["url", "MyText"], ["image_url", "MyText"], ["announced", "MyString"], ["released", "MyString"], ["display_size", "MyString"], ["display_type", "MyString"], ["display_resolution", nil], ["chipset", "MyString"], ["cpu", nil], ["gpu", nil], ["ram", "MyString"], ["storage", "MyText"], ["main_camera", "MyText"], ["selfie_camera", "MyText"], ["battery", "MyText"], ["os", "MyText"], ["weight", nil], ["dimensions", nil], ["price", "MyText"], ["specs_json", "MyText"], ["scraped_at", "2026-02-10 23:09:49"], ["created_at", "2026-02-13 11:31:29.493102"], ["updated_at", "2026-02-13 11:31:29.493102"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 94], ["channel_id", 109], ["country_id", 119], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:31:29.494993"], ["updated_at", "2026-02-13 11:31:29.494993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:31:29.512699"], ["updated_at", "2026-02-13 11:31:29.513103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:31:29.515130"], ["updated_at", "2026-02-13 11:31:29.515282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:31:29.516874')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:29 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 322)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:29 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:31:29 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:31:30 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:31:30 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>1, "channel_id"=>1, "country_id"=>1, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 1], ["channel_id", 1], ["country_id", 1], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:31:30.177228"], ["updated_at", "2026-02-13 11:31:30.177228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.1ms | Allocations: 917)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:31:30 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 978)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:01.916205"], ["updated_at", "2026-02-13 11:32:01.916205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.2ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 120], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:32:01.928095"], ["updated_at", "2026-02-13 11:32:01.928095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:01.945730"], ["created_at", "2026-02-13 11:32:01.951851"], ["updated_at", "2026-02-13 11:32:01.951851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 95], ["channel_id", 110], ["country_id", 120], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:01.966507"], ["updated_at", "2026-02-13 11:32:01.966507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.5ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 95]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 110]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 120]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.010403"], ["updated_at", "2026-02-13 11:32:02.010403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 121], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:32:02.012137"], ["updated_at", "2026-02-13 11:32:02.012137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.013195"], ["created_at", "2026-02-13 11:32:02.013901"], ["updated_at", "2026-02-13 11:32:02.013901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 96], ["channel_id", 111], ["country_id", 121], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.015424"], ["updated_at", "2026-02-13 11:32:02.015424"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 96]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 111]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 121]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.025736"], ["updated_at", "2026-02-13 11:32:02.025736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 122], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:32:02.027432"], ["updated_at", "2026-02-13 11:32:02.027432"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.028510"], ["created_at", "2026-02-13 11:32:02.029273"], ["updated_at", "2026-02-13 11:32:02.029273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 97], ["channel_id", 112], ["country_id", 122], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.030575"], ["updated_at", "2026-02-13 11:32:02.030575"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"115"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.038297"], ["updated_at", "2026-02-13 11:32:02.038297"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 123], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:32:02.039940"], ["updated_at", "2026-02-13 11:32:02.039940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.041149"], ["created_at", "2026-02-13 11:32:02.042207"], ["updated_at", "2026-02-13 11:32:02.042207"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 98], ["channel_id", 113], ["country_id", 123], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.044707"], ["updated_at", "2026-02-13 11:32:02.044707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"116"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.056083"], ["created_at", "2026-02-13 11:32:02.056901"], ["updated_at", "2026-02-13 11:32:02.056901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.058724"], ["updated_at", "2026-02-13 11:32:02.058724"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 124], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:32:02.060718"], ["updated_at", "2026-02-13 11:32:02.060718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"114", "country_id"=>"124", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"99", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 99], ["channel_id", 114], ["country_id", 124], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.067560"], ["updated_at", "2026-02-13 11:32:02.067560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.071818"], ["created_at", "2026-02-13 11:32:02.072470"], ["updated_at", "2026-02-13 11:32:02.072470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.074343"], ["updated_at", "2026-02-13 11:32:02.074343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 125], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:32:02.075504"], ["updated_at", "2026-02-13 11:32:02.075504"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"115", "country_id"=>"125", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"100", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 100], ["channel_id", 115], ["country_id", 125], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.079743"], ["updated_at", "2026-02-13 11:32:02.079743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 936)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 237ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283371)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.330674"], ["updated_at", "2026-02-13 11:32:02.330674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 126], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:32:02.331965"], ["updated_at", "2026-02-13 11:32:02.331965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.333031"], ["created_at", "2026-02-13 11:32:02.334550"], ["updated_at", "2026-02-13 11:32:02.334550"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 101], ["channel_id", 116], ["country_id", 126], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.336237"], ["updated_at", "2026-02-13 11:32:02.336237"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"119"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:02.339195"], ["id", 119]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.346174"], ["updated_at", "2026-02-13 11:32:02.346174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 127], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:32:02.347787"], ["updated_at", "2026-02-13 11:32:02.347787"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.348876"], ["created_at", "2026-02-13 11:32:02.350012"], ["updated_at", "2026-02-13 11:32:02.350012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 102], ["channel_id", 117], ["country_id", 127], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.351419"], ["updated_at", "2026-02-13 11:32:02.351419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"120"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:02.353921"], ["id", 120]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.357817"], ["updated_at", "2026-02-13 11:32:02.357817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 128], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:32:02.359720"], ["updated_at", "2026-02-13 11:32:02.359720"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.361468"], ["created_at", "2026-02-13 11:32:02.362509"], ["updated_at", "2026-02-13 11:32:02.362509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 103], ["channel_id", 118], ["country_id", 128], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.364243"], ["updated_at", "2026-02-13 11:32:02.364243"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"121"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.5ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 121]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.372180"], ["updated_at", "2026-02-13 11:32:02.372180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 129], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:32:02.374459"], ["updated_at", "2026-02-13 11:32:02.374459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.376573"], ["created_at", "2026-02-13 11:32:02.377523"], ["updated_at", "2026-02-13 11:32:02.377523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 104], ["channel_id", 119], ["country_id", 129], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.379202"], ["updated_at", "2026-02-13 11:32:02.379202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"122"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 122]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:02.385892"], ["updated_at", "2026-02-13 11:32:02.385892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 130], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:32:02.387391"], ["updated_at", "2026-02-13 11:32:02.387391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.388349"], ["created_at", "2026-02-13 11:32:02.389004"], ["updated_at", "2026-02-13 11:32:02.389004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 105], ["channel_id", 120], ["country_id", 130], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:02.390474"], ["updated_at", "2026-02-13 11:32:02.390474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.402579"], ["created_at", "2026-02-13 11:32:02.403981"], ["updated_at", "2026-02-13 11:32:02.403981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.8ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 106], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:02.413120"], ["updated_at", "2026-02-13 11:32:02.413120"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.418036"], ["created_at", "2026-02-13 11:32:02.419221"], ["updated_at", "2026-02-13 11:32:02.419221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 107], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:02.420756"], ["updated_at", "2026-02-13 11:32:02.420756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 107], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:02.425407"], ["created_at", "2026-02-13 11:32:02.427322"], ["updated_at", "2026-02-13 11:32:02.427322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 108], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:02.428824"], ["updated_at", "2026-02-13 11:32:02.428824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.1ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:06.979482"], ["created_at", "2026-02-13 11:32:06.984593"], ["updated_at", "2026-02-13 11:32:06.984593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (1.1ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 109], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:07.014527"], ["updated_at", "2026-02-13 11:32:07.014527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:07.228478"], ["created_at", "2026-02-13 11:32:07.229375"], ["updated_at", "2026-02-13 11:32:07.229375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.6ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 110], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:07.230970"], ["updated_at", "2026-02-13 11:32:07.230970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 110], ["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:07.235159"], ["created_at", "2026-02-13 11:32:07.235968"], ["updated_at", "2026-02-13 11:32:07.235968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 111], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:07.237602"], ["updated_at", "2026-02-13 11:32:07.237602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.350329"], ["updated_at", "2026-02-13 11:32:23.350329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.1ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 131], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:32:23.361748"], ["updated_at", "2026-02-13 11:32:23.361748"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.377271"], ["created_at", "2026-02-13 11:32:23.384183"], ["updated_at", "2026-02-13 11:32:23.384183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 112], ["channel_id", 121], ["country_id", 131], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.397104"], ["updated_at", "2026-02-13 11:32:23.397104"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.4ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 112]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 121]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 131]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.444495"], ["updated_at", "2026-02-13 11:32:23.444495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 132], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:32:23.446235"], ["updated_at", "2026-02-13 11:32:23.446235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.447347"], ["created_at", "2026-02-13 11:32:23.448562"], ["updated_at", "2026-02-13 11:32:23.448562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 113], ["channel_id", 122], ["country_id", 132], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.450946"], ["updated_at", "2026-02-13 11:32:23.450946"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 113]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 122]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 132]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.461248"], ["updated_at", "2026-02-13 11:32:23.461248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 133], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:32:23.463169"], ["updated_at", "2026-02-13 11:32:23.463169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.464449"], ["created_at", "2026-02-13 11:32:23.465133"], ["updated_at", "2026-02-13 11:32:23.465133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 114], ["channel_id", 123], ["country_id", 133], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.466693"], ["updated_at", "2026-02-13 11:32:23.466693"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"126"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.472718"], ["updated_at", "2026-02-13 11:32:23.472718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 134], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:32:23.474192"], ["updated_at", "2026-02-13 11:32:23.474192"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.475568"], ["created_at", "2026-02-13 11:32:23.476301"], ["updated_at", "2026-02-13 11:32:23.476301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 115], ["channel_id", 124], ["country_id", 134], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.477622"], ["updated_at", "2026-02-13 11:32:23.477622"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"127"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.489277"], ["created_at", "2026-02-13 11:32:23.490384"], ["updated_at", "2026-02-13 11:32:23.490384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.492426"], ["updated_at", "2026-02-13 11:32:23.492426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 135], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:32:23.493765"], ["updated_at", "2026-02-13 11:32:23.493765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"125", "country_id"=>"135", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"116", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 116], ["channel_id", 125], ["country_id", 135], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.498108"], ["updated_at", "2026-02-13 11:32:23.498108"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.503569"], ["created_at", "2026-02-13 11:32:23.504579"], ["updated_at", "2026-02-13 11:32:23.504579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.505982"], ["updated_at", "2026-02-13 11:32:23.505982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 136], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:32:23.507028"], ["updated_at", "2026-02-13 11:32:23.507028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"126", "country_id"=>"136", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"117", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 117], ["channel_id", 126], ["country_id", 136], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.509208"], ["updated_at", "2026-02-13 11:32:23.509208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 215ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283373)
  [1m[36mMeppiTrade Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.736023"], ["updated_at", "2026-02-13 11:32:23.736023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 137], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:32:23.737391"], ["updated_at", "2026-02-13 11:32:23.737391"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.738706"], ["created_at", "2026-02-13 11:32:23.739650"], ["updated_at", "2026-02-13 11:32:23.739650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 118], ["channel_id", 127], ["country_id", 137], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.741217"], ["updated_at", "2026-02-13 11:32:23.741217"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"130"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.7ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:23.745736"], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.751603"], ["updated_at", "2026-02-13 11:32:23.751603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 138], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:32:23.753220"], ["updated_at", "2026-02-13 11:32:23.753220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.754591"], ["created_at", "2026-02-13 11:32:23.755388"], ["updated_at", "2026-02-13 11:32:23.755388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 119], ["channel_id", 128], ["country_id", 138], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.756872"], ["updated_at", "2026-02-13 11:32:23.756872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"131"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:23.759595"], ["id", 131]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.763858"], ["updated_at", "2026-02-13 11:32:23.763858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 139], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:32:23.765654"], ["updated_at", "2026-02-13 11:32:23.765654"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.767015"], ["created_at", "2026-02-13 11:32:23.767781"], ["updated_at", "2026-02-13 11:32:23.767781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 120], ["channel_id", 129], ["country_id", 139], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.769093"], ["updated_at", "2026-02-13 11:32:23.769093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"132"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 132]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.776111"], ["updated_at", "2026-02-13 11:32:23.776111"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 140], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:32:23.777507"], ["updated_at", "2026-02-13 11:32:23.777507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.778472"], ["created_at", "2026-02-13 11:32:23.779067"], ["updated_at", "2026-02-13 11:32:23.779067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 121], ["channel_id", 130], ["country_id", 140], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.780414"], ["updated_at", "2026-02-13 11:32:23.780414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"133"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 133]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:23.787619"], ["updated_at", "2026-02-13 11:32:23.787619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 141], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:32:23.788896"], ["updated_at", "2026-02-13 11:32:23.788896"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.790375"], ["created_at", "2026-02-13 11:32:23.791097"], ["updated_at", "2026-02-13 11:32:23.791097"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 122], ["channel_id", 131], ["country_id", 141], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:23.792625"], ["updated_at", "2026-02-13 11:32:23.792625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.804281"], ["created_at", "2026-02-13 11:32:23.805341"], ["updated_at", "2026-02-13 11:32:23.805341"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.9ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 123], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:23.814652"], ["updated_at", "2026-02-13 11:32:23.814652"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.819807"], ["created_at", "2026-02-13 11:32:23.820731"], ["updated_at", "2026-02-13 11:32:23.820731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.8ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 124], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:23.822033"], ["updated_at", "2026-02-13 11:32:23.822033"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 124], ["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:23.826630"], ["created_at", "2026-02-13 11:32:23.827413"], ["updated_at", "2026-02-13 11:32:23.827413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.3ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 125], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:23.828893"], ["updated_at", "2026-02-13 11:32:23.828893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:32:23.838525"], ["updated_at", "2026-02-13 11:32:23.839017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:32:23.840863"], ["updated_at", "2026-02-13 11:32:23.841086"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:32:23.844307')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:32:23 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 322)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:32:24 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:32:24 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:32:24 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:32:24 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>1, "channel_id"=>1, "country_id"=>1, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 1], ["channel_id", 1], ["country_id", 1], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:32:24.580716"], ["updated_at", "2026-02-13 11:32:24.580716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.9ms | Allocations: 917)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:32:24 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 967)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.731945"], ["updated_at", "2026-02-13 11:32:33.731945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 142], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:32:33.772153"], ["updated_at", "2026-02-13 11:32:33.772153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.824991"], ["created_at", "2026-02-13 11:32:33.832045"], ["updated_at", "2026-02-13 11:32:33.832045"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 126], ["channel_id", 132], ["country_id", 142], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.850027"], ["updated_at", "2026-02-13 11:32:33.850027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.5ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 126]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 132]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 142]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 4603)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.896879"], ["updated_at", "2026-02-13 11:32:33.896879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 143], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:32:33.899165"], ["updated_at", "2026-02-13 11:32:33.899165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.900595"], ["created_at", "2026-02-13 11:32:33.901720"], ["updated_at", "2026-02-13 11:32:33.901720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 127], ["channel_id", 133], ["country_id", 143], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.903850"], ["updated_at", "2026-02-13 11:32:33.903850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.1ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 127]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 133]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 143]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.911852"], ["updated_at", "2026-02-13 11:32:33.911852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 144], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:32:33.913157"], ["updated_at", "2026-02-13 11:32:33.913157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.914097"], ["created_at", "2026-02-13 11:32:33.914745"], ["updated_at", "2026-02-13 11:32:33.914745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 128], ["channel_id", 134], ["country_id", 144], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.916240"], ["updated_at", "2026-02-13 11:32:33.916240"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"140"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.922304"], ["updated_at", "2026-02-13 11:32:33.922304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 145], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:32:33.923726"], ["updated_at", "2026-02-13 11:32:33.923726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.925024"], ["created_at", "2026-02-13 11:32:33.925705"], ["updated_at", "2026-02-13 11:32:33.925705"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 129], ["channel_id", 135], ["country_id", 145], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.927140"], ["updated_at", "2026-02-13 11:32:33.927140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"141"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 332)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.938990"], ["created_at", "2026-02-13 11:32:33.940234"], ["updated_at", "2026-02-13 11:32:33.940234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.941798"], ["updated_at", "2026-02-13 11:32:33.941798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 146], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:32:33.943098"], ["updated_at", "2026-02-13 11:32:33.943098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"136", "country_id"=>"146", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"130", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 130], ["channel_id", 136], ["country_id", 146], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.947096"], ["updated_at", "2026-02-13 11:32:33.947096"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:33.951468"], ["created_at", "2026-02-13 11:32:33.952893"], ["updated_at", "2026-02-13 11:32:33.952893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:33.954051"], ["updated_at", "2026-02-13 11:32:33.954051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 147], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:32:33.955018"], ["updated_at", "2026-02-13 11:32:33.955018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"137", "country_id"=>"147", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"131", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 131], ["channel_id", 137], ["country_id", 147], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:33.958723"], ["updated_at", "2026-02-13 11:32:33.958723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 197ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 283150)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.1ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:34.167698"], ["updated_at", "2026-02-13 11:32:34.167698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 148], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:32:34.170534"], ["updated_at", "2026-02-13 11:32:34.170534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:34.171781"], ["created_at", "2026-02-13 11:32:34.172632"], ["updated_at", "2026-02-13 11:32:34.172632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 132], ["channel_id", 138], ["country_id", 148], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:34.173869"], ["updated_at", "2026-02-13 11:32:34.173869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"144"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.7ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:34.176401"], ["id", 144]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:34.181619"], ["updated_at", "2026-02-13 11:32:34.181619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 149], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:32:34.183312"], ["updated_at", "2026-02-13 11:32:34.183312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:34.184421"], ["created_at", "2026-02-13 11:32:34.185390"], ["updated_at", "2026-02-13 11:32:34.185390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 133], ["channel_id", 139], ["country_id", 149], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:34.187514"], ["updated_at", "2026-02-13 11:32:34.187514"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"145"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.3ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:34.190035"], ["id", 145]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:34.192464"], ["updated_at", "2026-02-13 11:32:34.192464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 150], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:32:34.193628"], ["updated_at", "2026-02-13 11:32:34.193628"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:34.195216"], ["created_at", "2026-02-13 11:32:34.195775"], ["updated_at", "2026-02-13 11:32:34.195775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 134], ["channel_id", 140], ["country_id", 150], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:34.197115"], ["updated_at", "2026-02-13 11:32:34.197115"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"146"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 146]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:34.202877"], ["updated_at", "2026-02-13 11:32:34.202877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 151], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:32:34.204294"], ["updated_at", "2026-02-13 11:32:34.204294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:34.205184"], ["created_at", "2026-02-13 11:32:34.205768"], ["updated_at", "2026-02-13 11:32:34.205768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 135], ["channel_id", 141], ["country_id", 151], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:34.206924"], ["updated_at", "2026-02-13 11:32:34.206924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"147"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 147]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:34.211238"], ["updated_at", "2026-02-13 11:32:34.211238"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 152], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:32:34.212879"], ["updated_at", "2026-02-13 11:32:34.212879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:34.213867"], ["created_at", "2026-02-13 11:32:34.214733"], ["updated_at", "2026-02-13 11:32:34.214733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 136], ["channel_id", 142], ["country_id", 152], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:34.215922"], ["updated_at", "2026-02-13 11:32:34.215922"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.608107"], ["updated_at", "2026-02-13 11:32:36.608107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 153], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:32:36.623292"], ["updated_at", "2026-02-13 11:32:36.623292"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.637859"], ["created_at", "2026-02-13 11:32:36.644485"], ["updated_at", "2026-02-13 11:32:36.644485"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 137], ["channel_id", 143], ["country_id", 153], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.656961"], ["updated_at", "2026-02-13 11:32:36.656961"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 137]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 143]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 153]]
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 4595)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.701323"], ["updated_at", "2026-02-13 11:32:36.701323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 154], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:32:36.703584"], ["updated_at", "2026-02-13 11:32:36.703584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.704774"], ["created_at", "2026-02-13 11:32:36.705484"], ["updated_at", "2026-02-13 11:32:36.705484"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 138], ["channel_id", 144], ["country_id", 154], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.717102"], ["updated_at", "2026-02-13 11:32:36.717102"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 138]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 144]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 154]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.727904"], ["updated_at", "2026-02-13 11:32:36.727904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 155], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:32:36.729285"], ["updated_at", "2026-02-13 11:32:36.729285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.731126"], ["created_at", "2026-02-13 11:32:36.731965"], ["updated_at", "2026-02-13 11:32:36.731965"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 139], ["channel_id", 145], ["country_id", 155], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.734316"], ["updated_at", "2026-02-13 11:32:36.734316"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"151"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.741301"], ["updated_at", "2026-02-13 11:32:36.741301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 156], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:32:36.743146"], ["updated_at", "2026-02-13 11:32:36.743146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.744589"], ["created_at", "2026-02-13 11:32:36.745371"], ["updated_at", "2026-02-13 11:32:36.745371"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 140], ["channel_id", 146], ["country_id", 156], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.746830"], ["updated_at", "2026-02-13 11:32:36.746830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"152"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.755441"], ["created_at", "2026-02-13 11:32:36.756129"], ["updated_at", "2026-02-13 11:32:36.756129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.757527"], ["updated_at", "2026-02-13 11:32:36.757527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 157], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:32:36.759453"], ["updated_at", "2026-02-13 11:32:36.759453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"147", "country_id"=>"157", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"141", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 141], ["channel_id", 147], ["country_id", 157], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.764586"], ["updated_at", "2026-02-13 11:32:36.764586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.768974"], ["created_at", "2026-02-13 11:32:36.769978"], ["updated_at", "2026-02-13 11:32:36.769978"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.772282"], ["updated_at", "2026-02-13 11:32:36.772282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 158], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:32:36.774544"], ["updated_at", "2026-02-13 11:32:36.774544"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"148", "country_id"=>"158", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"142", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 142], ["channel_id", 148], ["country_id", 158], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.777656"], ["updated_at", "2026-02-13 11:32:36.777656"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 188ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 283133)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.977523"], ["updated_at", "2026-02-13 11:32:36.977523"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 159], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:32:36.980717"], ["updated_at", "2026-02-13 11:32:36.980717"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.983064"], ["created_at", "2026-02-13 11:32:36.984347"], ["updated_at", "2026-02-13 11:32:36.984347"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 143], ["channel_id", 149], ["country_id", 159], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:36.986983"], ["updated_at", "2026-02-13 11:32:36.986983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"155"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.6ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:36.990058"], ["id", 155]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:36.994888"], ["updated_at", "2026-02-13 11:32:36.994888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 160], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:32:36.996805"], ["updated_at", "2026-02-13 11:32:36.996805"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:36.998155"], ["created_at", "2026-02-13 11:32:36.999251"], ["updated_at", "2026-02-13 11:32:36.999251"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 144], ["channel_id", 150], ["country_id", 160], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:37.001791"], ["updated_at", "2026-02-13 11:32:37.001791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"156"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:32:37.004969"], ["id", 156]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:37.008727"], ["updated_at", "2026-02-13 11:32:37.008727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 161], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:32:37.010447"], ["updated_at", "2026-02-13 11:32:37.010447"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.012566"], ["created_at", "2026-02-13 11:32:37.013344"], ["updated_at", "2026-02-13 11:32:37.013344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 145], ["channel_id", 151], ["country_id", 161], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:37.014893"], ["updated_at", "2026-02-13 11:32:37.014893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"157"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.9ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 157]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:37.023512"], ["updated_at", "2026-02-13 11:32:37.023512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 162], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:32:37.024923"], ["updated_at", "2026-02-13 11:32:37.024923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.025856"], ["created_at", "2026-02-13 11:32:37.026523"], ["updated_at", "2026-02-13 11:32:37.026523"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 146], ["channel_id", 152], ["country_id", 162], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:37.028204"], ["updated_at", "2026-02-13 11:32:37.028204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"158"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 158]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:32:37.035850"], ["updated_at", "2026-02-13 11:32:37.035850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 163], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:32:37.038405"], ["updated_at", "2026-02-13 11:32:37.038405"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.040312"], ["created_at", "2026-02-13 11:32:37.041237"], ["updated_at", "2026-02-13 11:32:37.041237"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 147], ["channel_id", 153], ["country_id", 163], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:32:37.043523"], ["updated_at", "2026-02-13 11:32:37.043523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.054278"], ["created_at", "2026-02-13 11:32:37.055352"], ["updated_at", "2026-02-13 11:32:37.055352"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.8ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 148], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:37.065577"], ["updated_at", "2026-02-13 11:32:37.065577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.070942"], ["created_at", "2026-02-13 11:32:37.071859"], ["updated_at", "2026-02-13 11:32:37.071859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.6ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 149], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:37.073698"], ["updated_at", "2026-02-13 11:32:37.073698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 149], ["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:37.077753"], ["created_at", "2026-02-13 11:32:37.078860"], ["updated_at", "2026-02-13 11:32:37.078860"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.7ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 150], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:37.081179"], ["updated_at", "2026-02-13 11:32:37.081179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:32:37.095238"], ["updated_at", "2026-02-13 11:32:37.095600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:32:37.096819"], ["updated_at", "2026-02-13 11:32:37.096997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:32:37.098493')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 322)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 476)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>1, "channel_id"=>1, "country_id"=>1, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 1], ["channel_id", 1], ["country_id", 1], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:32:37.805196"], ["updated_at", "2026-02-13 11:32:37.805196"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.1ms | Allocations: 917)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:32:37 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 967)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.6ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:40.735404"], ["created_at", "2026-02-13 11:32:40.741139"], ["updated_at", "2026-02-13 11:32:40.741139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (1.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 151], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:40.807282"], ["updated_at", "2026-02-13 11:32:40.807282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:40.966549"], ["created_at", "2026-02-13 11:32:40.967468"], ["updated_at", "2026-02-13 11:32:40.967468"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.6ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 152], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:40.969263"], ["updated_at", "2026-02-13 11:32:40.969263"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 152], ["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:32:40.973977"], ["created_at", "2026-02-13 11:32:40.975142"], ["updated_at", "2026-02-13 11:32:40.975142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 153], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:32:40.977061"], ["updated_at", "2026-02-13 11:32:40.977061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.524994"], ["updated_at", "2026-02-13 11:33:14.524994"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 164], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:33:14.540237"], ["updated_at", "2026-02-13 11:33:14.540237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (1.0ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.556269"], ["created_at", "2026-02-13 11:33:14.561311"], ["updated_at", "2026-02-13 11:33:14.561311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (2.1ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 154], ["channel_id", 154], ["country_id", 164], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.576983"], ["updated_at", "2026-02-13 11:33:14.576983"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 154]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 154]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 164]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 4595)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.629126"], ["updated_at", "2026-02-13 11:33:14.629126"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 165], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:33:14.631795"], ["updated_at", "2026-02-13 11:33:14.631795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.633304"], ["created_at", "2026-02-13 11:33:14.634342"], ["updated_at", "2026-02-13 11:33:14.634342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 155], ["channel_id", 155], ["country_id", 165], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.635912"], ["updated_at", "2026-02-13 11:33:14.635912"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 155]]
  [1m[36mChannel Load (0.4ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 155]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 165]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.648380"], ["updated_at", "2026-02-13 11:33:14.648380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 166], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:33:14.651181"], ["updated_at", "2026-02-13 11:33:14.651181"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.652299"], ["created_at", "2026-02-13 11:33:14.653196"], ["updated_at", "2026-02-13 11:33:14.653196"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 156], ["channel_id", 156], ["country_id", 166], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.654785"], ["updated_at", "2026-02-13 11:33:14.654785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"165"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.662226"], ["updated_at", "2026-02-13 11:33:14.662226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 167], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:33:14.663702"], ["updated_at", "2026-02-13 11:33:14.663702"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.665091"], ["created_at", "2026-02-13 11:33:14.665809"], ["updated_at", "2026-02-13 11:33:14.665809"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 157], ["channel_id", 157], ["country_id", 167], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.668481"], ["updated_at", "2026-02-13 11:33:14.668481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"166"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.677746"], ["created_at", "2026-02-13 11:33:14.678609"], ["updated_at", "2026-02-13 11:33:14.678609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.679931"], ["updated_at", "2026-02-13 11:33:14.679931"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 168], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:33:14.681151"], ["updated_at", "2026-02-13 11:33:14.681151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"158", "country_id"=>"168", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"158", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 158], ["channel_id", 158], ["country_id", 168], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.686959"], ["updated_at", "2026-02-13 11:33:14.686959"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.691413"], ["created_at", "2026-02-13 11:33:14.692277"], ["updated_at", "2026-02-13 11:33:14.692277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.693556"], ["updated_at", "2026-02-13 11:33:14.693556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 169], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:33:14.694788"], ["updated_at", "2026-02-13 11:33:14.694788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"159", "country_id"=>"169", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"159", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 159], ["channel_id", 159], ["country_id", 169], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.697017"], ["updated_at", "2026-02-13 11:33:14.697017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 233ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 283370)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.941888"], ["updated_at", "2026-02-13 11:33:14.941888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 170], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:33:14.944286"], ["updated_at", "2026-02-13 11:33:14.944286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.945770"], ["created_at", "2026-02-13 11:33:14.946538"], ["updated_at", "2026-02-13 11:33:14.946538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 160], ["channel_id", 160], ["country_id", 170], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.948118"], ["updated_at", "2026-02-13 11:33:14.948118"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"169"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:33:14.952491"], ["id", 169]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.957364"], ["updated_at", "2026-02-13 11:33:14.957364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 171], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:33:14.958891"], ["updated_at", "2026-02-13 11:33:14.958891"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.960419"], ["created_at", "2026-02-13 11:33:14.961575"], ["updated_at", "2026-02-13 11:33:14.961575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 161], ["channel_id", 161], ["country_id", 171], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.963836"], ["updated_at", "2026-02-13 11:33:14.963836"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"170"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (1.0ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:33:14.967388"], ["id", 170]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.972366"], ["updated_at", "2026-02-13 11:33:14.972366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 172], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:33:14.974339"], ["updated_at", "2026-02-13 11:33:14.974339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.975690"], ["created_at", "2026-02-13 11:33:14.976478"], ["updated_at", "2026-02-13 11:33:14.976478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 162], ["channel_id", 162], ["country_id", 172], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.978192"], ["updated_at", "2026-02-13 11:33:14.978192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"171"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 171]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.984331"], ["updated_at", "2026-02-13 11:33:14.984331"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 173], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:33:14.986569"], ["updated_at", "2026-02-13 11:33:14.986569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:14.987829"], ["created_at", "2026-02-13 11:33:14.988617"], ["updated_at", "2026-02-13 11:33:14.988617"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 163], ["channel_id", 163], ["country_id", 173], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:14.990966"], ["updated_at", "2026-02-13 11:33:14.990966"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"172"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 172]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:14.998423"], ["updated_at", "2026-02-13 11:33:14.998423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 174], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:33:15.000075"], ["updated_at", "2026-02-13 11:33:15.000075"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.002087"], ["created_at", "2026-02-13 11:33:15.003113"], ["updated_at", "2026-02-13 11:33:15.003113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 164], ["channel_id", 164], ["country_id", 174], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:15.005046"], ["updated_at", "2026-02-13 11:33:15.005046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.015361"], ["created_at", "2026-02-13 11:33:15.016380"], ["updated_at", "2026-02-13 11:33:15.016380"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.7ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 165], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:15.025077"], ["updated_at", "2026-02-13 11:33:15.025077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.031767"], ["created_at", "2026-02-13 11:33:15.033192"], ["updated_at", "2026-02-13 11:33:15.033192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 166], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:15.034949"], ["updated_at", "2026-02-13 11:33:15.034949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 166], ["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.038382"], ["created_at", "2026-02-13 11:33:15.039365"], ["updated_at", "2026-02-13 11:33:15.039365"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 167], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:15.041018"], ["updated_at", "2026-02-13 11:33:15.041018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:33:15.052104"], ["updated_at", "2026-02-13 11:33:15.052346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:33:15.053804"], ["updated_at", "2026-02-13 11:33:15.054189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:33:15.056668')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:15.062351"], ["updated_at", "2026-02-13 11:33:15.062351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 175], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 11:33:15.063870"], ["updated_at", "2026-02-13 11:33:15.063870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.065091"], ["created_at", "2026-02-13 11:33:15.065798"], ["updated_at", "2026-02-13 11:33:15.065798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 168], ["channel_id", 165], ["country_id", 175], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:15.067162"], ["updated_at", "2026-02-13 11:33:15.067162"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/176" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"176", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.6ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 176]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 574)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C2"], ["name", "Country 2"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:15.400773"], ["updated_at", "2026-02-13 11:33:15.400773"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 176], ["name", "Channel 13"], ["channel_type", "retail"], ["url", "https://example.com/channel13"], ["active", true], ["created_at", "2026-02-13 11:33:15.402420"], ["updated_at", "2026-02-13 11:33:15.402420"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone17"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone17"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.403582"], ["created_at", "2026-02-13 11:33:15.404276"], ["updated_at", "2026-02-13 11:33:15.404276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 169], ["channel_id", 166], ["country_id", 176], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:15.405738"], ["updated_at", "2026-02-13 11:33:15.405738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 169], ["channel_id", 166], ["country_id", 176], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:15.407091"], ["updated_at", "2026-02-13 11:33:15.407091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 169]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 166]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 176]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C3"], ["name", "Country 3"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:15.750685"], ["updated_at", "2026-02-13 11:33:15.750685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 177], ["name", "Channel 14"], ["channel_type", "retail"], ["url", "https://example.com/channel14"], ["active", true], ["created_at", "2026-02-13 11:33:15.752353"], ["updated_at", "2026-02-13 11:33:15.752353"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone18"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone18"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.754707"], ["created_at", "2026-02-13 11:33:15.755625"], ["updated_at", "2026-02-13 11:33:15.755625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 170], ["channel_id", 167], ["country_id", 177], ["title", "Trade 11"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:15.757249"], ["updated_at", "2026-02-13 11:33:15.757249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades/179" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"179", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 351)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 476)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone19"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone19"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:15.765788"], ["created_at", "2026-02-13 11:33:15.766714"], ["updated_at", "2026-02-13 11:33:15.766714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C4"], ["name", "Country 4"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:15.767967"], ["updated_at", "2026-02-13 11:33:15.767967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 178], ["name", "Channel 15"], ["channel_type", "retail"], ["url", "https://example.com/channel15"], ["active", true], ["created_at", "2026-02-13 11:33:15.768992"], ["updated_at", "2026-02-13 11:33:15.768992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>171, "channel_id"=>168, "country_id"=>178, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 171], ["channel_id", 168], ["country_id", 178], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:33:15.770880"], ["updated_at", "2026-02-13 11:33:15.770880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 828)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:33:15 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.389576"], ["updated_at", "2026-02-13 11:33:20.389576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 179], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:33:20.400993"], ["updated_at", "2026-02-13 11:33:20.400993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.416349"], ["created_at", "2026-02-13 11:33:20.421414"], ["updated_at", "2026-02-13 11:33:20.421414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 172], ["channel_id", 169], ["country_id", 179], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.434344"], ["updated_at", "2026-02-13 11:33:20.434344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 172]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 169]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 179]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4595)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.485109"], ["updated_at", "2026-02-13 11:33:20.485109"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 180], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:33:20.487477"], ["updated_at", "2026-02-13 11:33:20.487477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.488827"], ["created_at", "2026-02-13 11:33:20.489929"], ["updated_at", "2026-02-13 11:33:20.489929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 173], ["channel_id", 170], ["country_id", 180], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.492805"], ["updated_at", "2026-02-13 11:33:20.492805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 173]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 170]]
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 180]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.502330"], ["updated_at", "2026-02-13 11:33:20.502330"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 181], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:33:20.504661"], ["updated_at", "2026-02-13 11:33:20.504661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.506530"], ["created_at", "2026-02-13 11:33:20.507372"], ["updated_at", "2026-02-13 11:33:20.507372"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 174], ["channel_id", 171], ["country_id", 181], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.509173"], ["updated_at", "2026-02-13 11:33:20.509173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"183"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 614)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.513612"], ["updated_at", "2026-02-13 11:33:20.513612"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 182], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:33:20.515203"], ["updated_at", "2026-02-13 11:33:20.515203"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.516412"], ["created_at", "2026-02-13 11:33:20.517314"], ["updated_at", "2026-02-13 11:33:20.517314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 175], ["channel_id", 172], ["country_id", 182], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.519065"], ["updated_at", "2026-02-13 11:33:20.519065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"184"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.3ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.529224"], ["created_at", "2026-02-13 11:33:20.530103"], ["updated_at", "2026-02-13 11:33:20.530103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.531785"], ["updated_at", "2026-02-13 11:33:20.531785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 183], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:33:20.534101"], ["updated_at", "2026-02-13 11:33:20.534101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"173", "country_id"=>"183", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"176", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 176], ["channel_id", 173], ["country_id", 183], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.538912"], ["updated_at", "2026-02-13 11:33:20.538912"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.543829"], ["created_at", "2026-02-13 11:33:20.544774"], ["updated_at", "2026-02-13 11:33:20.544774"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.546509"], ["updated_at", "2026-02-13 11:33:20.546509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 184], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:33:20.547683"], ["updated_at", "2026-02-13 11:33:20.547683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"174", "country_id"=>"184", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"177", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 177], ["channel_id", 174], ["country_id", 184], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.550323"], ["updated_at", "2026-02-13 11:33:20.550323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 200ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.765286"], ["updated_at", "2026-02-13 11:33:20.765286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 185], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:33:20.766983"], ["updated_at", "2026-02-13 11:33:20.766983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.768131"], ["created_at", "2026-02-13 11:33:20.768856"], ["updated_at", "2026-02-13 11:33:20.768856"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 178], ["channel_id", 175], ["country_id", 185], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.781110"], ["updated_at", "2026-02-13 11:33:20.781110"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"187"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:33:20.787544"], ["id", 187]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.801395"], ["updated_at", "2026-02-13 11:33:20.801395"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (5.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 186], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:33:20.808906"], ["updated_at", "2026-02-13 11:33:20.808906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.817515"], ["created_at", "2026-02-13 11:33:20.819451"], ["updated_at", "2026-02-13 11:33:20.819451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 179], ["channel_id", 176], ["country_id", 186], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.822053"], ["updated_at", "2026-02-13 11:33:20.822053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"188"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.6ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:33:20.825354"], ["id", 188]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.829178"], ["updated_at", "2026-02-13 11:33:20.829178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 187], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:33:20.830884"], ["updated_at", "2026-02-13 11:33:20.830884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.832269"], ["created_at", "2026-02-13 11:33:20.833036"], ["updated_at", "2026-02-13 11:33:20.833036"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 180], ["channel_id", 177], ["country_id", 187], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.834821"], ["updated_at", "2026-02-13 11:33:20.834821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"189"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 189]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.842259"], ["updated_at", "2026-02-13 11:33:20.842259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 188], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:33:20.844469"], ["updated_at", "2026-02-13 11:33:20.844469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.846318"], ["created_at", "2026-02-13 11:33:20.847143"], ["updated_at", "2026-02-13 11:33:20.847143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 181], ["channel_id", 178], ["country_id", 188], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.848582"], ["updated_at", "2026-02-13 11:33:20.848582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"190"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 190]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.854403"], ["updated_at", "2026-02-13 11:33:20.854403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 189], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:33:20.855737"], ["updated_at", "2026-02-13 11:33:20.855737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.856667"], ["created_at", "2026-02-13 11:33:20.857266"], ["updated_at", "2026-02-13 11:33:20.857266"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 182], ["channel_id", 179], ["country_id", 189], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.858918"], ["updated_at", "2026-02-13 11:33:20.858918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.868978"], ["created_at", "2026-02-13 11:33:20.870322"], ["updated_at", "2026-02-13 11:33:20.870322"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.7ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 183], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:20.880123"], ["updated_at", "2026-02-13 11:33:20.880123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.886783"], ["created_at", "2026-02-13 11:33:20.887799"], ["updated_at", "2026-02-13 11:33:20.887799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.3ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 184], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:20.889197"], ["updated_at", "2026-02-13 11:33:20.889197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 184], ["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.892760"], ["created_at", "2026-02-13 11:33:20.893605"], ["updated_at", "2026-02-13 11:33:20.893605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 185], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:33:20.894989"], ["updated_at", "2026-02-13 11:33:20.894989"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.1ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:33:20.904962"], ["updated_at", "2026-02-13 11:33:20.905321"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:33:20.906891"], ["updated_at", "2026-02-13 11:33:20.907190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:33:20.909004')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:20.914182"], ["updated_at", "2026-02-13 11:33:20.914182"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 190], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 11:33:20.916250"], ["updated_at", "2026-02-13 11:33:20.916250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:20.917509"], ["created_at", "2026-02-13 11:33:20.918662"], ["updated_at", "2026-02-13 11:33:20.918662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 186], ["channel_id", 180], ["country_id", 190], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:20.920322"], ["updated_at", "2026-02-13 11:33:20.920322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/194" for 127.0.0.1 at 2026-02-13 14:33:20 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"194", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.6ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 194]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 574)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:33:20 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C2"], ["name", "Country 2"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:21.204352"], ["updated_at", "2026-02-13 11:33:21.204352"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 191], ["name", "Channel 13"], ["channel_type", "retail"], ["url", "https://example.com/channel13"], ["active", true], ["created_at", "2026-02-13 11:33:21.206404"], ["updated_at", "2026-02-13 11:33:21.206404"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone17"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone17"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:21.208601"], ["created_at", "2026-02-13 11:33:21.209915"], ["updated_at", "2026-02-13 11:33:21.209915"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 187], ["channel_id", 181], ["country_id", 191], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:21.212198"], ["updated_at", "2026-02-13 11:33:21.212198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 187], ["channel_id", 181], ["country_id", 191], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:21.213964"], ["updated_at", "2026-02-13 11:33:21.213964"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 187]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 181]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 191]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C3"], ["name", "Country 3"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:21.479301"], ["updated_at", "2026-02-13 11:33:21.479301"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 192], ["name", "Channel 14"], ["channel_type", "retail"], ["url", "https://example.com/channel14"], ["active", true], ["created_at", "2026-02-13 11:33:21.481322"], ["updated_at", "2026-02-13 11:33:21.481322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone18"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone18"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:21.482818"], ["created_at", "2026-02-13 11:33:21.483618"], ["updated_at", "2026-02-13 11:33:21.483618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 188], ["channel_id", 182], ["country_id", 192], ["title", "Trade 11"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:33:21.484953"], ["updated_at", "2026-02-13 11:33:21.484953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades/197" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"197", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 351)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone19"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone19"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:33:21.493763"], ["created_at", "2026-02-13 11:33:21.494545"], ["updated_at", "2026-02-13 11:33:21.494545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C4"], ["name", "Country 4"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:33:21.495721"], ["updated_at", "2026-02-13 11:33:21.495721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 193], ["name", "Channel 15"], ["channel_type", "retail"], ["url", "https://example.com/channel15"], ["active", true], ["created_at", "2026-02-13 11:33:21.496768"], ["updated_at", "2026-02-13 11:33:21.496768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>189, "channel_id"=>183, "country_id"=>193, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 189], ["channel_id", 183], ["country_id", 193], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:33:21.498740"], ["updated_at", "2026-02-13 11:33:21.498740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:33:21 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.6ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:34:03.993397"], ["created_at", "2026-02-13 11:34:03.998463"], ["updated_at", "2026-02-13 11:34:03.998463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Similarity calculation failed: undefined method `embedding' for #<Phone id: 190, brand: "Samsung", model: "Galaxy S24", url: "https://example.com/phone1", image_url: "https://example.com/images/phone.jpg", announced: "2024-01", released: "2024-02", display_size: "6.7 inches", display_type: "AMOLED", display_resolution: nil, chipset: "Snapdragon 8 Gen 3", cpu: "Octa-core", gpu: "Adreno 750", ram: "8GB", storage: "256GB", main_camera: "50MP + 12MP + 10MP", selfie_camera: "12MP", battery: "5000mAh", os: "Android 14", weight: nil, dimensions: nil, price: "$999", specs_json: "{\"display\": \"6.7 inches\"}", scraped_at: "2026-02-13 11:34:03.993397000 +0000", created_at: "2026-02-13 11:34:03.998463000 +0000", updated_at: "2026-02-13 11:34:03.998463000 +0000">
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.7ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:34:20.836339"], ["created_at", "2026-02-13 11:34:20.841192"], ["updated_at", "2026-02-13 11:34:20.841192"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Similarity calculation failed: undefined method `embedding' for #<Phone id: 191, brand: "Samsung", model: "Galaxy S24", url: "https://example.com/phone1", image_url: "https://example.com/images/phone.jpg", announced: "2024-01", released: "2024-02", display_size: "6.7 inches", display_type: "AMOLED", display_resolution: nil, chipset: "Snapdragon 8 Gen 3", cpu: "Octa-core", gpu: "Adreno 750", ram: "8GB", storage: "256GB", main_camera: "50MP + 12MP + 10MP", selfie_camera: "12MP", battery: "5000mAh", os: "Android 14", weight: nil, dimensions: nil, price: "$999", specs_json: "{\"display\": \"6.7 inches\"}", scraped_at: "2026-02-13 11:34:20.836339000 +0000", created_at: "2026-02-13 11:34:20.841192000 +0000", updated_at: "2026-02-13 11:34:20.841192000 +0000">
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.6ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:34:28.663515"], ["created_at", "2026-02-13 11:34:28.670624"], ["updated_at", "2026-02-13 11:34:28.670624"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Similarity calculation failed: undefined method `embedding' for #<Phone id: 192, brand: "Samsung", model: "Galaxy S24", url: "https://example.com/phone1", image_url: "https://example.com/images/phone.jpg", announced: "2024-01", released: "2024-02", display_size: "6.7 inches", display_type: "AMOLED", display_resolution: nil, chipset: "Snapdragon 8 Gen 3", cpu: "Octa-core", gpu: "Adreno 750", ram: "8GB", storage: "256GB", main_camera: "50MP + 12MP + 10MP", selfie_camera: "12MP", battery: "5000mAh", os: "Android 14", weight: nil, dimensions: nil, price: "$999", specs_json: "{\"display\": \"6.7 inches\"}", scraped_at: "2026-02-13 11:34:28.663515000 +0000", created_at: "2026-02-13 11:34:28.670624000 +0000", updated_at: "2026-02-13 11:34:28.670624000 +0000">
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3030521886321936195)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3030521886321936195)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:21.878037"], ["updated_at", "2026-02-13 11:36:21.878037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.0ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 194], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:36:21.890400"], ["updated_at", "2026-02-13 11:36:21.890400"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:21.906570"], ["created_at", "2026-02-13 11:36:21.913520"], ["updated_at", "2026-02-13 11:36:21.913520"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 193], ["channel_id", 184], ["country_id", 194], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:21.927960"], ["updated_at", "2026-02-13 11:36:21.927960"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.4ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 193]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 184]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 194]]
  [1m[36mMeppiTrade Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:21.984565"], ["updated_at", "2026-02-13 11:36:21.984565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 195], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:36:21.986264"], ["updated_at", "2026-02-13 11:36:21.986264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:21.987401"], ["created_at", "2026-02-13 11:36:21.988320"], ["updated_at", "2026-02-13 11:36:21.988320"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 194], ["channel_id", 185], ["country_id", 195], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:21.990049"], ["updated_at", "2026-02-13 11:36:21.990049"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 194]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 185]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 195]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.000640"], ["updated_at", "2026-02-13 11:36:22.000640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 196], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:36:22.002547"], ["updated_at", "2026-02-13 11:36:22.002547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.003940"], ["created_at", "2026-02-13 11:36:22.004723"], ["updated_at", "2026-02-13 11:36:22.004723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 195], ["channel_id", 186], ["country_id", 196], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.006510"], ["updated_at", "2026-02-13 11:36:22.006510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"201"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 614)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.012105"], ["updated_at", "2026-02-13 11:36:22.012105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 197], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:36:22.014370"], ["updated_at", "2026-02-13 11:36:22.014370"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.016743"], ["created_at", "2026-02-13 11:36:22.017791"], ["updated_at", "2026-02-13 11:36:22.017791"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 196], ["channel_id", 187], ["country_id", 197], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.019939"], ["updated_at", "2026-02-13 11:36:22.019939"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"202"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.029157"], ["created_at", "2026-02-13 11:36:22.030540"], ["updated_at", "2026-02-13 11:36:22.030540"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.033507"], ["updated_at", "2026-02-13 11:36:22.033507"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 198], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:36:22.036119"], ["updated_at", "2026-02-13 11:36:22.036119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"188", "country_id"=>"198", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"197", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 197], ["channel_id", 188], ["country_id", 198], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.040974"], ["updated_at", "2026-02-13 11:36:22.040974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.046129"], ["created_at", "2026-02-13 11:36:22.047051"], ["updated_at", "2026-02-13 11:36:22.047051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.048470"], ["updated_at", "2026-02-13 11:36:22.048470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 199], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:36:22.049812"], ["updated_at", "2026-02-13 11:36:22.049812"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"189", "country_id"=>"199", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"198", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 198], ["channel_id", 189], ["country_id", 199], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.053563"], ["updated_at", "2026-02-13 11:36:22.053563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 936)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 204ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.270537"], ["updated_at", "2026-02-13 11:36:22.270537"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 200], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:36:22.272852"], ["updated_at", "2026-02-13 11:36:22.272852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.275070"], ["created_at", "2026-02-13 11:36:22.276028"], ["updated_at", "2026-02-13 11:36:22.276028"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 199], ["channel_id", 190], ["country_id", 200], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.278160"], ["updated_at", "2026-02-13 11:36:22.278160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"205"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:22.281464"], ["id", 205]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.286443"], ["updated_at", "2026-02-13 11:36:22.286443"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 201], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:36:22.288243"], ["updated_at", "2026-02-13 11:36:22.288243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.289645"], ["created_at", "2026-02-13 11:36:22.290506"], ["updated_at", "2026-02-13 11:36:22.290506"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 200], ["channel_id", 191], ["country_id", 201], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.293461"], ["updated_at", "2026-02-13 11:36:22.293461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"206"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:22.297276"], ["id", 206]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.301217"], ["updated_at", "2026-02-13 11:36:22.301217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 202], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:36:22.302622"], ["updated_at", "2026-02-13 11:36:22.302622"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.304467"], ["created_at", "2026-02-13 11:36:22.305697"], ["updated_at", "2026-02-13 11:36:22.305697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 201], ["channel_id", 192], ["country_id", 202], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.307908"], ["updated_at", "2026-02-13 11:36:22.307908"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"207"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.7ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 207]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.316733"], ["updated_at", "2026-02-13 11:36:22.316733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 203], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:36:22.318564"], ["updated_at", "2026-02-13 11:36:22.318564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.319867"], ["created_at", "2026-02-13 11:36:22.320645"], ["updated_at", "2026-02-13 11:36:22.320645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 202], ["channel_id", 193], ["country_id", 203], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.322123"], ["updated_at", "2026-02-13 11:36:22.322123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"208"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 208]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.327625"], ["updated_at", "2026-02-13 11:36:22.327625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 204], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:36:22.329430"], ["updated_at", "2026-02-13 11:36:22.329430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.330760"], ["created_at", "2026-02-13 11:36:22.331929"], ["updated_at", "2026-02-13 11:36:22.331929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 203], ["channel_id", 194], ["country_id", 204], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.334644"], ["updated_at", "2026-02-13 11:36:22.334644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.344254"], ["created_at", "2026-02-13 11:36:22.345248"], ["updated_at", "2026-02-13 11:36:22.345248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.7ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 204], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:22.353535"], ["updated_at", "2026-02-13 11:36:22.353535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.358677"], ["created_at", "2026-02-13 11:36:22.359676"], ["updated_at", "2026-02-13 11:36:22.359676"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 205], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:22.361103"], ["updated_at", "2026-02-13 11:36:22.361103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 205], ["id", 23], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.364446"], ["created_at", "2026-02-13 11:36:22.365357"], ["updated_at", "2026-02-13 11:36:22.365357"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 206], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:22.367222"], ["updated_at", "2026-02-13 11:36:22.367222"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:36:22.378887"], ["updated_at", "2026-02-13 11:36:22.379162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:36:22.380611"], ["updated_at", "2026-02-13 11:36:22.380773"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:36:22.382271')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.389193"], ["updated_at", "2026-02-13 11:36:22.389193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 205], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 11:36:22.390744"], ["updated_at", "2026-02-13 11:36:22.390744"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.393695"], ["created_at", "2026-02-13 11:36:22.394967"], ["updated_at", "2026-02-13 11:36:22.394967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 207], ["channel_id", 195], ["country_id", 205], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.396951"], ["updated_at", "2026-02-13 11:36:22.396951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/212" for 127.0.0.1 at 2026-02-13 14:36:22 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"212", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.6ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 212]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 574)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:36:22 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C2"], ["name", "Country 2"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:22.696140"], ["updated_at", "2026-02-13 11:36:22.696140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 206], ["name", "Channel 13"], ["channel_type", "retail"], ["url", "https://example.com/channel13"], ["active", true], ["created_at", "2026-02-13 11:36:22.698010"], ["updated_at", "2026-02-13 11:36:22.698010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone17"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone17"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:22.699391"], ["created_at", "2026-02-13 11:36:22.700529"], ["updated_at", "2026-02-13 11:36:22.700529"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 208], ["channel_id", 196], ["country_id", 206], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.702550"], ["updated_at", "2026-02-13 11:36:22.702550"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 208], ["channel_id", 196], ["country_id", 206], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:22.705054"], ["updated_at", "2026-02-13 11:36:22.705054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:36:22 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 208]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 196]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 206]]
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:36:22 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C3"], ["name", "Country 3"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:23.014085"], ["updated_at", "2026-02-13 11:36:23.014085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 207], ["name", "Channel 14"], ["channel_type", "retail"], ["url", "https://example.com/channel14"], ["active", true], ["created_at", "2026-02-13 11:36:23.016163"], ["updated_at", "2026-02-13 11:36:23.016163"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone18"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone18"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:23.017978"], ["created_at", "2026-02-13 11:36:23.019009"], ["updated_at", "2026-02-13 11:36:23.019009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 209], ["channel_id", 197], ["country_id", 207], ["title", "Trade 11"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:23.020822"], ["updated_at", "2026-02-13 11:36:23.020822"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades/215" for 127.0.0.1 at 2026-02-13 14:36:23 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"215", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 351)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:36:23 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone19"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone19"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:23.030686"], ["created_at", "2026-02-13 11:36:23.031598"], ["updated_at", "2026-02-13 11:36:23.031598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C4"], ["name", "Country 4"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:23.033245"], ["updated_at", "2026-02-13 11:36:23.033245"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 208], ["name", "Channel 15"], ["channel_type", "retail"], ["url", "https://example.com/channel15"], ["active", true], ["created_at", "2026-02-13 11:36:23.035555"], ["updated_at", "2026-02-13 11:36:23.035555"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:36:23 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>210, "channel_id"=>198, "country_id"=>208, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 210], ["channel_id", 198], ["country_id", 208], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:36:23.038701"], ["updated_at", "2026-02-13 11:36:23.038701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:36:23 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.524534"], ["updated_at", "2026-02-13 11:36:25.524534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (1.1ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 209], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:36:25.537272"], ["updated_at", "2026-02-13 11:36:25.537272"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.556778"], ["created_at", "2026-02-13 11:36:25.563999"], ["updated_at", "2026-02-13 11:36:25.563999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 211], ["channel_id", 199], ["country_id", 209], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.578560"], ["updated_at", "2026-02-13 11:36:25.578560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 211]]
  [1m[36mChannel Load (0.4ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 199]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 209]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.630544"], ["updated_at", "2026-02-13 11:36:25.630544"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 210], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:36:25.632266"], ["updated_at", "2026-02-13 11:36:25.632266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.633531"], ["created_at", "2026-02-13 11:36:25.634428"], ["updated_at", "2026-02-13 11:36:25.634428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 212], ["channel_id", 200], ["country_id", 210], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.635918"], ["updated_at", "2026-02-13 11:36:25.635918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 212]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 200]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 210]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.646880"], ["updated_at", "2026-02-13 11:36:25.646880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 211], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:36:25.648409"], ["updated_at", "2026-02-13 11:36:25.648409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.649689"], ["created_at", "2026-02-13 11:36:25.650772"], ["updated_at", "2026-02-13 11:36:25.650772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 213], ["channel_id", 201], ["country_id", 211], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.652274"], ["updated_at", "2026-02-13 11:36:25.652274"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"219"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.666923"], ["updated_at", "2026-02-13 11:36:25.666923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 212], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:36:25.669019"], ["updated_at", "2026-02-13 11:36:25.669019"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.670670"], ["created_at", "2026-02-13 11:36:25.671675"], ["updated_at", "2026-02-13 11:36:25.671675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 214], ["channel_id", 202], ["country_id", 212], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.673785"], ["updated_at", "2026-02-13 11:36:25.673785"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"220"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.686188"], ["created_at", "2026-02-13 11:36:25.687121"], ["updated_at", "2026-02-13 11:36:25.687121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.688447"], ["updated_at", "2026-02-13 11:36:25.688447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 213], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:36:25.689626"], ["updated_at", "2026-02-13 11:36:25.689626"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"203", "country_id"=>"213", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"215", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 215], ["channel_id", 203], ["country_id", 213], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.694413"], ["updated_at", "2026-02-13 11:36:25.694413"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.699986"], ["created_at", "2026-02-13 11:36:25.701545"], ["updated_at", "2026-02-13 11:36:25.701545"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.703730"], ["updated_at", "2026-02-13 11:36:25.703730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 214], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:36:25.705611"], ["updated_at", "2026-02-13 11:36:25.705611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"204", "country_id"=>"214", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"216", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 216], ["channel_id", 204], ["country_id", 214], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.708445"], ["updated_at", "2026-02-13 11:36:25.708445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 222ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.945876"], ["updated_at", "2026-02-13 11:36:25.945876"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 215], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:36:25.948132"], ["updated_at", "2026-02-13 11:36:25.948132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.949397"], ["created_at", "2026-02-13 11:36:25.950132"], ["updated_at", "2026-02-13 11:36:25.950132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 217], ["channel_id", 205], ["country_id", 215], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.951390"], ["updated_at", "2026-02-13 11:36:25.951390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"223"}
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:25.955659"], ["id", 223]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.961922"], ["updated_at", "2026-02-13 11:36:25.961922"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 216], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:36:25.963686"], ["updated_at", "2026-02-13 11:36:25.963686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.965476"], ["created_at", "2026-02-13 11:36:25.966579"], ["updated_at", "2026-02-13 11:36:25.966579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 218], ["channel_id", 206], ["country_id", 216], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.968393"], ["updated_at", "2026-02-13 11:36:25.968393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"224"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.7ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:25.972040"], ["id", 224]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.976458"], ["updated_at", "2026-02-13 11:36:25.976458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 217], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:36:25.978328"], ["updated_at", "2026-02-13 11:36:25.978328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.979875"], ["created_at", "2026-02-13 11:36:25.980607"], ["updated_at", "2026-02-13 11:36:25.980607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 219], ["channel_id", 207], ["country_id", 217], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.982208"], ["updated_at", "2026-02-13 11:36:25.982208"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"225"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 225]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:25.991555"], ["updated_at", "2026-02-13 11:36:25.991555"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 218], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:36:25.993876"], ["updated_at", "2026-02-13 11:36:25.993876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:25.995256"], ["created_at", "2026-02-13 11:36:25.995964"], ["updated_at", "2026-02-13 11:36:25.995964"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 220], ["channel_id", 208], ["country_id", 218], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:25.998723"], ["updated_at", "2026-02-13 11:36:25.998723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"226"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 226]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:26.006290"], ["updated_at", "2026-02-13 11:36:26.006290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 219], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:36:26.008359"], ["updated_at", "2026-02-13 11:36:26.008359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:26.009656"], ["created_at", "2026-02-13 11:36:26.010542"], ["updated_at", "2026-02-13 11:36:26.010542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 221], ["channel_id", 209], ["country_id", 219], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:26.012059"], ["updated_at", "2026-02-13 11:36:26.012059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.6ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:26.022587"], ["created_at", "2026-02-13 11:36:26.023963"], ["updated_at", "2026-02-13 11:36:26.023963"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (1.0ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 222], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:26.034759"], ["updated_at", "2026-02-13 11:36:26.034759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:26.042388"], ["created_at", "2026-02-13 11:36:26.043635"], ["updated_at", "2026-02-13 11:36:26.043635"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 223], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:26.046302"], ["updated_at", "2026-02-13 11:36:26.046302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 223], ["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:26.050376"], ["created_at", "2026-02-13 11:36:26.051145"], ["updated_at", "2026-02-13 11:36:26.051145"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.4ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 224], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:26.052347"], ["updated_at", "2026-02-13 11:36:26.052347"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:36:26.067060"], ["updated_at", "2026-02-13 11:36:26.067386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:36:26.068540"], ["updated_at", "2026-02-13 11:36:26.068681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:36:26.069977')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:51.850130"], ["updated_at", "2026-02-13 11:36:51.850130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.8ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 220], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 11:36:51.861184"], ["updated_at", "2026-02-13 11:36:51.861184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:51.874916"], ["created_at", "2026-02-13 11:36:51.879274"], ["updated_at", "2026-02-13 11:36:51.879274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.2ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 225], ["channel_id", 210], ["country_id", 220], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:51.889734"], ["updated_at", "2026-02-13 11:36:51.889734"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 225]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 210]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 220]]
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4595)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:51.945060"], ["updated_at", "2026-02-13 11:36:51.945060"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 221], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 11:36:51.947372"], ["updated_at", "2026-02-13 11:36:51.947372"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:51.949052"], ["created_at", "2026-02-13 11:36:51.950153"], ["updated_at", "2026-02-13 11:36:51.950153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 226], ["channel_id", 211], ["country_id", 221], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:51.951716"], ["updated_at", "2026-02-13 11:36:51.951716"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 226]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 211]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 221]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:51.963169"], ["updated_at", "2026-02-13 11:36:51.963169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 222], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 11:36:51.965980"], ["updated_at", "2026-02-13 11:36:51.965980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:51.967476"], ["created_at", "2026-02-13 11:36:51.969265"], ["updated_at", "2026-02-13 11:36:51.969265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 227], ["channel_id", 212], ["country_id", 222], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:51.971819"], ["updated_at", "2026-02-13 11:36:51.971819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"232"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:51.977485"], ["updated_at", "2026-02-13 11:36:51.977485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 223], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 11:36:51.979441"], ["updated_at", "2026-02-13 11:36:51.979441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:51.981399"], ["created_at", "2026-02-13 11:36:51.982650"], ["updated_at", "2026-02-13 11:36:51.982650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 228], ["channel_id", 213], ["country_id", 223], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:51.984507"], ["updated_at", "2026-02-13 11:36:51.984507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"233"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:51.993216"], ["created_at", "2026-02-13 11:36:51.994055"], ["updated_at", "2026-02-13 11:36:51.994055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:51.995590"], ["updated_at", "2026-02-13 11:36:51.995590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 224], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 11:36:51.996699"], ["updated_at", "2026-02-13 11:36:51.996699"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"214", "country_id"=>"224", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"229", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.8ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 229], ["channel_id", 214], ["country_id", 224], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.001250"], ["updated_at", "2026-02-13 11:36:52.001250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.006143"], ["created_at", "2026-02-13 11:36:52.007068"], ["updated_at", "2026-02-13 11:36:52.007068"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.008303"], ["updated_at", "2026-02-13 11:36:52.008303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 225], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 11:36:52.009283"], ["updated_at", "2026-02-13 11:36:52.009283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"215", "country_id"=>"225", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"230", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 230], ["channel_id", 215], ["country_id", 225], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.011311"], ["updated_at", "2026-02-13 11:36:52.011311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 170ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.193165"], ["updated_at", "2026-02-13 11:36:52.193165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 226], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 11:36:52.194938"], ["updated_at", "2026-02-13 11:36:52.194938"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.196087"], ["created_at", "2026-02-13 11:36:52.196771"], ["updated_at", "2026-02-13 11:36:52.196771"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 231], ["channel_id", 216], ["country_id", 226], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.198032"], ["updated_at", "2026-02-13 11:36:52.198032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"236"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.8ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:52.200980"], ["id", 236]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.209120"], ["updated_at", "2026-02-13 11:36:52.209120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 227], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 11:36:52.211345"], ["updated_at", "2026-02-13 11:36:52.211345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.212356"], ["created_at", "2026-02-13 11:36:52.213183"], ["updated_at", "2026-02-13 11:36:52.213183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 232], ["channel_id", 217], ["country_id", 227], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.214992"], ["updated_at", "2026-02-13 11:36:52.214992"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"237"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.6ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 11:36:52.218806"], ["id", 237]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 933)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.223674"], ["updated_at", "2026-02-13 11:36:52.223674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 228], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 11:36:52.225447"], ["updated_at", "2026-02-13 11:36:52.225447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.226658"], ["created_at", "2026-02-13 11:36:52.227297"], ["updated_at", "2026-02-13 11:36:52.227297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 233], ["channel_id", 218], ["country_id", 228], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.228989"], ["updated_at", "2026-02-13 11:36:52.228989"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"238"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.7ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 238]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.237555"], ["updated_at", "2026-02-13 11:36:52.237555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 229], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 11:36:52.238829"], ["updated_at", "2026-02-13 11:36:52.238829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.239954"], ["created_at", "2026-02-13 11:36:52.240586"], ["updated_at", "2026-02-13 11:36:52.240586"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.9ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 234], ["channel_id", 219], ["country_id", 229], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.242284"], ["updated_at", "2026-02-13 11:36:52.242284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"239"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 239]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.248882"], ["updated_at", "2026-02-13 11:36:52.248882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 230], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 11:36:52.250894"], ["updated_at", "2026-02-13 11:36:52.250894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.251896"], ["created_at", "2026-02-13 11:36:52.252710"], ["updated_at", "2026-02-13 11:36:52.252710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 235], ["channel_id", 220], ["country_id", 230], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.254216"], ["updated_at", "2026-02-13 11:36:52.254216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.263625"], ["created_at", "2026-02-13 11:36:52.264940"], ["updated_at", "2026-02-13 11:36:52.264940"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.7ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 236], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:52.274471"], ["updated_at", "2026-02-13 11:36:52.274471"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.280300"], ["created_at", "2026-02-13 11:36:52.281304"], ["updated_at", "2026-02-13 11:36:52.281304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.8ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 237], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:52.282984"], ["updated_at", "2026-02-13 11:36:52.282984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 237], ["id", 29], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.287574"], ["created_at", "2026-02-13 11:36:52.288469"], ["updated_at", "2026-02-13 11:36:52.288469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 238], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 11:36:52.290214"], ["updated_at", "2026-02-13 11:36:52.290214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 11:36:52.300597"], ["updated_at", "2026-02-13 11:36:52.300917"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 11:36:52.302984"], ["updated_at", "2026-02-13 11:36:52.303263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 11:36:52.305207')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.310364"], ["updated_at", "2026-02-13 11:36:52.310364"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 231], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 11:36:52.312580"], ["updated_at", "2026-02-13 11:36:52.312580"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.314159"], ["created_at", "2026-02-13 11:36:52.315071"], ["updated_at", "2026-02-13 11:36:52.315071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 239], ["channel_id", 221], ["country_id", 231], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.316616"], ["updated_at", "2026-02-13 11:36:52.316616"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/243" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"243", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 243]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 574)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.1ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C2"], ["name", "Country 2"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.613506"], ["updated_at", "2026-02-13 11:36:52.613506"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 232], ["name", "Channel 13"], ["channel_type", "retail"], ["url", "https://example.com/channel13"], ["active", true], ["created_at", "2026-02-13 11:36:52.615348"], ["updated_at", "2026-02-13 11:36:52.615348"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone17"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone17"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.617214"], ["created_at", "2026-02-13 11:36:52.618069"], ["updated_at", "2026-02-13 11:36:52.618069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 240], ["channel_id", 222], ["country_id", 232], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.619488"], ["updated_at", "2026-02-13 11:36:52.619488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 240], ["channel_id", 222], ["country_id", 232], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.620762"], ["updated_at", "2026-02-13 11:36:52.620762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 240]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 222]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 232]]
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C3"], ["name", "Country 3"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.960047"], ["updated_at", "2026-02-13 11:36:52.960047"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 233], ["name", "Channel 14"], ["channel_type", "retail"], ["url", "https://example.com/channel14"], ["active", true], ["created_at", "2026-02-13 11:36:52.961616"], ["updated_at", "2026-02-13 11:36:52.961616"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone18"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone18"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.963152"], ["created_at", "2026-02-13 11:36:52.963928"], ["updated_at", "2026-02-13 11:36:52.963928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 241], ["channel_id", 223], ["country_id", 233], ["title", "Trade 11"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 11:36:52.965391"], ["updated_at", "2026-02-13 11:36:52.965391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades/246" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"246", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 351)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone19"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.5ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone19"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 11:36:52.973064"], ["created_at", "2026-02-13 11:36:52.973924"], ["updated_at", "2026-02-13 11:36:52.973924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C4"], ["name", "Country 4"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 11:36:52.975818"], ["updated_at", "2026-02-13 11:36:52.975818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 234], ["name", "Channel 15"], ["channel_type", "retail"], ["url", "https://example.com/channel15"], ["active", true], ["created_at", "2026-02-13 11:36:52.977048"], ["updated_at", "2026-02-13 11:36:52.977048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>242, "channel_id"=>224, "country_id"=>234, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 242], ["channel_id", 224], ["country_id", 234], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 11:36:52.979388"], ["updated_at", "2026-02-13 11:36:52.979388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 828)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 14:36:52 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 965)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Connection error: Failed to open TCP connection to localhost:8002 (Connection refused - connect(2) for "localhost" port 8002)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.0ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.631284"], ["updated_at", "2026-02-13 12:06:21.631284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.9ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 235], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 12:06:21.659071"], ["updated_at", "2026-02-13 12:06:21.659071"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.760705"], ["created_at", "2026-02-13 12:06:21.770653"], ["updated_at", "2026-02-13 12:06:21.770653"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (1.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 243], ["channel_id", 225], ["country_id", 235], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.791476"], ["updated_at", "2026-02-13 12:06:21.791476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.6ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 243]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 225]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 235]]
  [1m[36mMeppiTrade Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 4602)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.8ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.841811"], ["updated_at", "2026-02-13 12:06:21.841811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 236], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 12:06:21.845443"], ["updated_at", "2026-02-13 12:06:21.845443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.846869"], ["created_at", "2026-02-13 12:06:21.847822"], ["updated_at", "2026-02-13 12:06:21.847822"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 244], ["channel_id", 226], ["country_id", 236], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.849620"], ["updated_at", "2026-02-13 12:06:21.849620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 244]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 226]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 236]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1637)
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.862624"], ["updated_at", "2026-02-13 12:06:21.862624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 237], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 12:06:21.864046"], ["updated_at", "2026-02-13 12:06:21.864046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.865237"], ["created_at", "2026-02-13 12:06:21.866305"], ["updated_at", "2026-02-13 12:06:21.866305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 245], ["channel_id", 227], ["country_id", 237], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.867498"], ["updated_at", "2026-02-13 12:06:21.867498"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"250"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.872890"], ["updated_at", "2026-02-13 12:06:21.872890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 238], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 12:06:21.874425"], ["updated_at", "2026-02-13 12:06:21.874425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.875745"], ["created_at", "2026-02-13 12:06:21.878604"], ["updated_at", "2026-02-13 12:06:21.878604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 246], ["channel_id", 228], ["country_id", 238], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.880298"], ["updated_at", "2026-02-13 12:06:21.880298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"251"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (1.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 1.3ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.893905"], ["created_at", "2026-02-13 12:06:21.894721"], ["updated_at", "2026-02-13 12:06:21.894721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.896083"], ["updated_at", "2026-02-13 12:06:21.896083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 239], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 12:06:21.897315"], ["updated_at", "2026-02-13 12:06:21.897315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"229", "country_id"=>"239", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"247", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (2.0ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 247], ["channel_id", 229], ["country_id", 239], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.902686"], ["updated_at", "2026-02-13 12:06:21.902686"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:21.909535"], ["created_at", "2026-02-13 12:06:21.910615"], ["updated_at", "2026-02-13 12:06:21.910615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:21.912221"], ["updated_at", "2026-02-13 12:06:21.912221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 240], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 12:06:21.913409"], ["updated_at", "2026-02-13 12:06:21.913409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"230", "country_id"=>"240", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"248", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 248], ["channel_id", 230], ["country_id", 240], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:21.915595"], ["updated_at", "2026-02-13 12:06:21.915595"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 248ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 283231)
  [1m[36mMeppiTrade Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:22.176978"], ["updated_at", "2026-02-13 12:06:22.176978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 241], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 12:06:22.179399"], ["updated_at", "2026-02-13 12:06:22.179399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:22.181356"], ["created_at", "2026-02-13 12:06:22.182754"], ["updated_at", "2026-02-13 12:06:22.182754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 249], ["channel_id", 231], ["country_id", 241], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:22.184758"], ["updated_at", "2026-02-13 12:06:22.184758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"254"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 12:06:22.187606"], ["id", 254]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:22.193739"], ["updated_at", "2026-02-13 12:06:22.193739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 242], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 12:06:22.195303"], ["updated_at", "2026-02-13 12:06:22.195303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:22.196419"], ["created_at", "2026-02-13 12:06:22.197314"], ["updated_at", "2026-02-13 12:06:22.197314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 250], ["channel_id", 232], ["country_id", 242], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:22.198843"], ["updated_at", "2026-02-13 12:06:22.198843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"255"}
  [1m[36mMeppiTrade Load (0.5ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 12:06:22.203135"], ["id", 255]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:22.206745"], ["updated_at", "2026-02-13 12:06:22.206745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 243], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 12:06:22.208276"], ["updated_at", "2026-02-13 12:06:22.208276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:22.209450"], ["created_at", "2026-02-13 12:06:22.210183"], ["updated_at", "2026-02-13 12:06:22.210183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 251], ["channel_id", 233], ["country_id", 243], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:22.211521"], ["updated_at", "2026-02-13 12:06:22.211521"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"256"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 256]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:22.219659"], ["updated_at", "2026-02-13 12:06:22.219659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 244], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 12:06:22.221744"], ["updated_at", "2026-02-13 12:06:22.221744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:22.223073"], ["created_at", "2026-02-13 12:06:22.223849"], ["updated_at", "2026-02-13 12:06:22.223849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 252], ["channel_id", 234], ["country_id", 244], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:22.225351"], ["updated_at", "2026-02-13 12:06:22.225351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"257"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 257]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 558)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 12:06:22.232758"], ["updated_at", "2026-02-13 12:06:22.232758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 245], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 12:06:22.234129"], ["updated_at", "2026-02-13 12:06:22.234129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 12:06:22.235293"], ["created_at", "2026-02-13 12:06:22.236243"], ["updated_at", "2026-02-13 12:06:22.236243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 253], ["channel_id", 235], ["country_id", 245], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 12:06:22.237915"], ["updated_at", "2026-02-13 12:06:22.237915"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:26:07 +0300
  
ActionController::RoutingError (uninitialized constant Api::V1::NativeBridgeController):
  
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:26:24 +0300
  
ActionController::RoutingError (uninitialized constant Api::V1::NativeBridgeController):
  
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:26:48 +0300
  
ActionController::RoutingError (uninitialized constant Api::V1::NativeBridgeController):
  
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:27:17 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:27:46 +0300
Processing by Api::V1::NativeBridgeController#navigation as JSON
  Parameters: {"native_bridge"=>{}}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1228)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:28:12 +0300
Processing by Api::V1::NativeBridgeController#navigation as JSON
  Parameters: {"native_bridge"=>{}}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1228)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (4.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.698574"], ["updated_at", "2026-02-13 13:31:48.698574"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (2.2ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 246], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 13:31:48.718007"], ["updated_at", "2026-02-13 13:31:48.718007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.7ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.739132"], ["created_at", "2026-02-13 13:31:48.743540"], ["updated_at", "2026-02-13 13:31:48.743540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (2.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 254], ["channel_id", 236], ["country_id", 246], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.754074"], ["updated_at", "2026-02-13 13:31:48.754074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.4ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 254]]
  [1m[36mChannel Load (0.5ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 236]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 246]]
  [1m[36mMeppiTrade Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 4595)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.803434"], ["updated_at", "2026-02-13 13:31:48.803434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 247], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 13:31:48.804892"], ["updated_at", "2026-02-13 13:31:48.804892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.806192"], ["created_at", "2026-02-13 13:31:48.806968"], ["updated_at", "2026-02-13 13:31:48.806968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 255], ["channel_id", 237], ["country_id", 247], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.808144"], ["updated_at", "2026-02-13 13:31:48.808144"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.1ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 255]]
  [1m[36mChannel Load (0.1ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 237]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 247]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.816197"], ["updated_at", "2026-02-13 13:31:48.816197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 248], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 13:31:48.817303"], ["updated_at", "2026-02-13 13:31:48.817303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.818372"], ["created_at", "2026-02-13 13:31:48.818917"], ["updated_at", "2026-02-13 13:31:48.818917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 256], ["channel_id", 238], ["country_id", 248], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.820241"], ["updated_at", "2026-02-13 13:31:48.820241"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"261"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.824564"], ["updated_at", "2026-02-13 13:31:48.824564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.6ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 249], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 13:31:48.825508"], ["updated_at", "2026-02-13 13:31:48.825508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.826740"], ["created_at", "2026-02-13 13:31:48.827399"], ["updated_at", "2026-02-13 13:31:48.827399"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 257], ["channel_id", 239], ["country_id", 249], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.828537"], ["updated_at", "2026-02-13 13:31:48.828537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"262"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.1ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.835760"], ["created_at", "2026-02-13 13:31:48.836307"], ["updated_at", "2026-02-13 13:31:48.836307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.837347"], ["updated_at", "2026-02-13 13:31:48.837347"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 250], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 13:31:48.838527"], ["updated_at", "2026-02-13 13:31:48.838527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"240", "country_id"=>"250", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"258", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 258], ["channel_id", 240], ["country_id", 250], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.842248"], ["updated_at", "2026-02-13 13:31:48.842248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.846501"], ["created_at", "2026-02-13 13:31:48.847829"], ["updated_at", "2026-02-13 13:31:48.847829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.849594"], ["updated_at", "2026-02-13 13:31:48.849594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 251], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 13:31:48.850661"], ["updated_at", "2026-02-13 13:31:48.850661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"241", "country_id"=>"251", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"259", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 259], ["channel_id", 241], ["country_id", 251], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.852494"], ["updated_at", "2026-02-13 13:31:48.852494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 126ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:48.986757"], ["updated_at", "2026-02-13 13:31:48.986757"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 252], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 13:31:48.988180"], ["updated_at", "2026-02-13 13:31:48.988180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:48.989576"], ["created_at", "2026-02-13 13:31:48.990431"], ["updated_at", "2026-02-13 13:31:48.990431"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 260], ["channel_id", 242], ["country_id", 252], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:48.993847"], ["updated_at", "2026-02-13 13:31:48.993847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"265"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.7ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 13:31:48.996523"], ["id", 265]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:49.000715"], ["updated_at", "2026-02-13 13:31:49.000715"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 253], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 13:31:49.002315"], ["updated_at", "2026-02-13 13:31:49.002315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.003294"], ["created_at", "2026-02-13 13:31:49.003969"], ["updated_at", "2026-02-13 13:31:49.003969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 261], ["channel_id", 243], ["country_id", 253], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:49.005153"], ["updated_at", "2026-02-13 13:31:49.005153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"266"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.3ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 13:31:49.007503"], ["id", 266]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:49.011365"], ["updated_at", "2026-02-13 13:31:49.011365"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 254], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 13:31:49.013076"], ["updated_at", "2026-02-13 13:31:49.013076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.014472"], ["created_at", "2026-02-13 13:31:49.015448"], ["updated_at", "2026-02-13 13:31:49.015448"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 262], ["channel_id", 244], ["country_id", 254], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:49.016923"], ["updated_at", "2026-02-13 13:31:49.016923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"267"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 267]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:49.022721"], ["updated_at", "2026-02-13 13:31:49.022721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 255], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 13:31:49.023761"], ["updated_at", "2026-02-13 13:31:49.023761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.024809"], ["created_at", "2026-02-13 13:31:49.025400"], ["updated_at", "2026-02-13 13:31:49.025400"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 263], ["channel_id", 245], ["country_id", 255], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:49.026484"], ["updated_at", "2026-02-13 13:31:49.026484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"268"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 268]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 558)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:49.030664"], ["updated_at", "2026-02-13 13:31:49.030664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 256], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 13:31:49.032217"], ["updated_at", "2026-02-13 13:31:49.032217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.033320"], ["created_at", "2026-02-13 13:31:49.034244"], ["updated_at", "2026-02-13 13:31:49.034244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 264], ["channel_id", 246], ["country_id", 256], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:49.036199"], ["updated_at", "2026-02-13 13:31:49.036199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.045752"], ["created_at", "2026-02-13 13:31:49.046501"], ["updated_at", "2026-02-13 13:31:49.046501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (1.5ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 265], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:49.055793"], ["updated_at", "2026-02-13 13:31:49.055793"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.060642"], ["created_at", "2026-02-13 13:31:49.061412"], ["updated_at", "2026-02-13 13:31:49.061412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.3ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 266], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:49.062466"], ["updated_at", "2026-02-13 13:31:49.062466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 266], ["id", 32], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.065094"], ["created_at", "2026-02-13 13:31:49.065672"], ["updated_at", "2026-02-13 13:31:49.065672"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.3ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 267], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:49.066941"], ["updated_at", "2026-02-13 13:31:49.066941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.3ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 13:31:49.076007"], ["updated_at", "2026-02-13 13:31:49.076283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 13:31:49.077177"], ["updated_at", "2026-02-13 13:31:49.077353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 13:31:49.078536')[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:31:49 +0300
Processing by Api::V1::NativeBridgeController#navigation as JSON
  Parameters: {"native_bridge"=>{}}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:49.089413"], ["updated_at", "2026-02-13 13:31:49.089413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 257], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 13:31:49.090711"], ["updated_at", "2026-02-13 13:31:49.090711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:49.091613"], ["created_at", "2026-02-13 13:31:49.092198"], ["updated_at", "2026-02-13 13:31:49.092198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 268], ["channel_id", 247], ["country_id", 257], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:49.093382"], ["updated_at", "2026-02-13 13:31:49.093382"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/272" for 127.0.0.1 at 2026-02-13 16:31:49 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"272", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.3ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 272]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 557)
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 16:31:49 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.1ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mBGE_EMBEDDING_URL[0m, [36mBGE_EMBEDDING_MODEL[0m, [36mPADDLEOCR_URL[0m, [36mPADDLEOCR_TIMEOUT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (1.2ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.024634"], ["updated_at", "2026-02-13 13:31:59.024634"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.7ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 258], ["name", "Channel 1"], ["channel_type", "retail"], ["url", "https://example.com/channel1"], ["active", true], ["created_at", "2026-02-13 13:31:59.036641"], ["updated_at", "2026-02-13 13:31:59.036641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone1"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone1"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.049694"], ["created_at", "2026-02-13 13:31:59.054743"], ["updated_at", "2026-02-13 13:31:59.054743"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 269], ["channel_id", 248], ["country_id", 258], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.064619"], ["updated_at", "2026-02-13 13:31:59.064619"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.3ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 269]]
  [1m[36mChannel Load (0.2ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 248]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 258]]
  [1m[36mMeppiTrade Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.114957"], ["updated_at", "2026-02-13 13:31:59.114957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 259], ["name", "Channel 2"], ["channel_type", "retail"], ["url", "https://example.com/channel2"], ["active", true], ["created_at", "2026-02-13 13:31:59.117066"], ["updated_at", "2026-02-13 13:31:59.117066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone2"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone2"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.118274"], ["created_at", "2026-02-13 13:31:59.119433"], ["updated_at", "2026-02-13 13:31:59.119433"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 270], ["channel_id", 249], ["country_id", 259], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.121641"], ["updated_at", "2026-02-13 13:31:59.121641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#index as HTML
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 270]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 249]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 259]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.132816"], ["updated_at", "2026-02-13 13:31:59.132816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 260], ["name", "Channel 3"], ["channel_type", "retail"], ["url", "https://example.com/channel3"], ["active", true], ["created_at", "2026-02-13 13:31:59.134401"], ["updated_at", "2026-02-13 13:31:59.134401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone3"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone3"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.135325"], ["created_at", "2026-02-13 13:31:59.135890"], ["updated_at", "2026-02-13 13:31:59.135890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 271], ["channel_id", 250], ["country_id", 260], ["title", "Trade 3"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.137147"], ["updated_at", "2026-02-13 13:31:59.137147"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"275"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 614)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.143109"], ["updated_at", "2026-02-13 13:31:59.143109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 261], ["name", "Channel 4"], ["channel_type", "retail"], ["url", "https://example.com/channel4"], ["active", true], ["created_at", "2026-02-13 13:31:59.145119"], ["updated_at", "2026-02-13 13:31:59.145119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone4"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone4"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.146701"], ["created_at", "2026-02-13 13:31:59.147596"], ["updated_at", "2026-02-13 13:31:59.147596"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 272], ["channel_id", 251], ["country_id", 261], ["title", "Trade 4"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.149441"], ["updated_at", "2026-02-13 13:31:59.149441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"276"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 398)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#show as HTML
  Parameters: {"id"=>"999999"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone5"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone5"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.160856"], ["created_at", "2026-02-13 13:31:59.161716"], ["updated_at", "2026-02-13 13:31:59.161716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.163546"], ["updated_at", "2026-02-13 13:31:59.163546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 262], ["name", "Channel 5"], ["channel_type", "retail"], ["url", "https://example.com/channel5"], ["active", true], ["created_at", "2026-02-13 13:31:59.165189"], ["updated_at", "2026-02-13 13:31:59.165189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"252", "country_id"=>"262", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"273", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 273], ["channel_id", 252], ["country_id", 262], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.170853"], ["updated_at", "2026-02-13 13:31:59.170853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1022)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone6"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone6"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.174380"], ["created_at", "2026-02-13 13:31:59.174947"], ["updated_at", "2026-02-13 13:31:59.174947"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.176370"], ["updated_at", "2026-02-13 13:31:59.176370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 263], ["name", "Channel 6"], ["channel_type", "retail"], ["url", "https://example.com/channel6"], ["active", true], ["created_at", "2026-02-13 13:31:59.177349"], ["updated_at", "2026-02-13 13:31:59.177349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"brand"=>"Samsung", "channel_id"=>"253", "country_id"=>"263", "currency"=>"AED", "discount_amount_local"=>"100.0", "discount_percent"=>"10.0", "phone_id"=>"274", "price_local"=>"1000.0", "price_usd"=>"270.0", "promo_code"=>"SAVE10", "stock_status"=>"in_stock", "title"=>"New Trade", "trade_type"=>"retail", "url"=>"https://example.com/trade", "valid_until"=>"2026-03-15"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.6ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 274], ["channel_id", 253], ["country_id", 263], ["title", "New Trade"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.179225"], ["updated_at", "2026-02-13 13:31:59.179225"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 936)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 205ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 283134)
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by TradesController#create as HTML
  Parameters: {"trade"=>{"currency"=>"", "price_local"=>"", "title"=>""}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.394873"], ["updated_at", "2026-02-13 13:31:59.394873"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 264], ["name", "Channel 7"], ["channel_type", "retail"], ["url", "https://example.com/channel7"], ["active", true], ["created_at", "2026-02-13 13:31:59.396103"], ["updated_at", "2026-02-13 13:31:59.396103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone7"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone7"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.397342"], ["created_at", "2026-02-13 13:31:59.398096"], ["updated_at", "2026-02-13 13:31:59.398096"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 275], ["channel_id", 254], ["country_id", 264], ["title", "Trade 5"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.399368"], ["updated_at", "2026-02-13 13:31:59.399368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"279"}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.4ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 13:31:59.401600"], ["id", 279]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1102)
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.404886"], ["updated_at", "2026-02-13 13:31:59.404886"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 265], ["name", "Channel 8"], ["channel_type", "retail"], ["url", "https://example.com/channel8"], ["active", true], ["created_at", "2026-02-13 13:31:59.406095"], ["updated_at", "2026-02-13 13:31:59.406095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone8"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone8"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.407136"], ["created_at", "2026-02-13 13:31:59.407896"], ["updated_at", "2026-02-13 13:31:59.407896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 276], ["channel_id", 255], ["country_id", 265], ["title", "Trade 6"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.409285"], ["updated_at", "2026-02-13 13:31:59.409285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#update as HTML
  Parameters: {"trade"=>{"price_local"=>"1200.0", "title"=>"Updated Trade Title"}, "id"=>"280"}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Update (0.5ms)[0m  [1m[33mUPDATE "meppi_trades" SET "title" = $1, "price_local" = $2, "updated_at" = $3 WHERE "meppi_trades"."id" = $4[0m  [["title", "Updated Trade Title"], ["price_local", "1200.0"], ["updated_at", "2026-02-13 13:31:59.411482"], ["id", 280]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 933)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.414876"], ["updated_at", "2026-02-13 13:31:59.414876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 266], ["name", "Channel 9"], ["channel_type", "retail"], ["url", "https://example.com/channel9"], ["active", true], ["created_at", "2026-02-13 13:31:59.416014"], ["updated_at", "2026-02-13 13:31:59.416014"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone9"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone9"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.416931"], ["created_at", "2026-02-13 13:31:59.417524"], ["updated_at", "2026-02-13 13:31:59.417524"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 277], ["channel_id", 256], ["country_id", 266], ["title", "Trade 7"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.418690"], ["updated_at", "2026-02-13 13:31:59.418690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"281"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.5ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 281]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 620)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.423474"], ["updated_at", "2026-02-13 13:31:59.423474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 267], ["name", "Channel 10"], ["channel_type", "retail"], ["url", "https://example.com/channel10"], ["active", true], ["created_at", "2026-02-13 13:31:59.425105"], ["updated_at", "2026-02-13 13:31:59.425105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone10"], ["LIMIT", 1]]
  [1m[36mPhone Create (1.0ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone10"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.426281"], ["created_at", "2026-02-13 13:31:59.427405"], ["updated_at", "2026-02-13 13:31:59.427405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 278], ["channel_id", 257], ["country_id", 267], ["title", "Trade 8"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.431587"], ["updated_at", "2026-02-13 13:31:59.431587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TradesController#destroy as HTML
  Parameters: {"id"=>"282"}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 282]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 558)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.4ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "US"], ["name", "United States"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.438690"], ["updated_at", "2026-02-13 13:31:59.438690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 268], ["name", "Channel 11"], ["channel_type", "retail"], ["url", "https://example.com/channel11"], ["active", true], ["created_at", "2026-02-13 13:31:59.440406"], ["updated_at", "2026-02-13 13:31:59.440406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone11"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone11"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.441458"], ["created_at", "2026-02-13 13:31:59.442117"], ["updated_at", "2026-02-13 13:31:59.442117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 279], ["channel_id", 258], ["country_id", 268], ["title", "Trade 9"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.443403"], ["updated_at", "2026-02-13 13:31:59.443403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone12"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.4ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone12"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.453278"], ["created_at", "2026-02-13 13:31:59.454704"], ["updated_at", "2026-02-13 13:31:59.454704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (1.1ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 280], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:59.468063"], ["updated_at", "2026-02-13 13:31:59.468063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone14"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone14"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.474537"], ["created_at", "2026-02-13 13:31:59.475649"], ["updated_at", "2026-02-13 13:31:59.475649"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.6ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 281], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:59.477165"], ["updated_at", "2026-02-13 13:31:59.477165"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "chunks" WHERE "chunks"."phone_id" = $1 AND "chunks"."id" = $2 LIMIT $3[0m  [["phone_id", 281], ["id", 35], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone15"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone15"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.481353"], ["created_at", "2026-02-13 13:31:59.482124"], ["updated_at", "2026-02-13 13:31:59.482124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChunk Create (0.3ms)[0m  [1m[32mINSERT INTO "chunks" ("phone_id", "content", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["phone_id", 282], ["content", "Test content"], ["tokens", "[FILTERED]"], ["created_at", "2026-02-13 13:31:59.483874"], ["updated_at", "2026-02-13 13:31:59.483874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mChunk Load (0.2ms)[0m  [1m[34mSELECT "chunks".* FROM "chunks" ORDER BY "chunks"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.5ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Old Trade"], ["brand", nil], ["price_local", "100.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-01-09 13:31:59.495439"], ["updated_at", "2026-02-13 13:31:59.495813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", nil], ["channel_id", nil], ["country_id", nil], ["title", "Recent Trade"], ["brand", nil], ["price_local", "200.0"], ["price_usd", nil], ["currency", "USD"], ["stock_status", nil], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-12 13:31:59.497478"], ["updated_at", "2026-02-13 13:31:59.497619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Delete All (0.2ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE (created_at < '2026-01-14 13:31:59.499572')[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/v1/navigation" for 127.0.0.1 at 2026-02-13 16:31:59 +0300
Processing by Api::V1::NativeBridgeController#navigation as JSON
  Parameters: {"native_bridge"=>{}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 299)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.9ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C1"], ["name", "Country 1"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.515121"], ["updated_at", "2026-02-13 13:31:59.515121"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 269], ["name", "Channel 12"], ["channel_type", "retail"], ["url", "https://example.com/channel12"], ["active", true], ["created_at", "2026-02-13 13:31:59.517950"], ["updated_at", "2026-02-13 13:31:59.517950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone16"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone16"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.519322"], ["created_at", "2026-02-13 13:31:59.520240"], ["updated_at", "2026-02-13 13:31:59.520240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 283], ["channel_id", 259], ["country_id", 269], ["title", "Trade 10"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.521605"], ["updated_at", "2026-02-13 13:31:59.521605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Started DELETE "/trades/286" for 127.0.0.1 at 2026-02-13 16:31:59 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"286", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meppi_trades" WHERE "meppi_trades"."id" = $1[0m  [["id", 286]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 557)
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/trades/999999" for 127.0.0.1 at 2026-02-13 16:31:59 +0300
Processing by TradesController#destroy as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms | Allocations: 300)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C2"], ["name", "Country 2"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:31:59.773855"], ["updated_at", "2026-02-13 13:31:59.773855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.5ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 270], ["name", "Channel 13"], ["channel_type", "retail"], ["url", "https://example.com/channel13"], ["active", true], ["created_at", "2026-02-13 13:31:59.775583"], ["updated_at", "2026-02-13 13:31:59.775583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone17"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone17"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:31:59.776839"], ["created_at", "2026-02-13 13:31:59.777652"], ["updated_at", "2026-02-13 13:31:59.777652"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 284], ["channel_id", 260], ["country_id", 270], ["title", "Trade 1"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.778952"], ["updated_at", "2026-02-13 13:31:59.778952"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.4ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 284], ["channel_id", 260], ["country_id", 270], ["title", "Trade 2"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:31:59.780504"], ["updated_at", "2026-02-13 13:31:59.780504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 16:31:59 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mPhone Load (0.2ms)[0m  [1m[34mSELECT "phones".* FROM "phones" WHERE "phones"."id" = $1[0m  [["id", 284]]
  [1m[36mChannel Load (0.3ms)[0m  [1m[34mSELECT "channels".* FROM "channels" WHERE "channels"."id" = $1[0m  [["id", 260]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1[0m  [["id", 270]]
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1720)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades/999999" for 127.0.0.1 at 2026-02-13 16:31:59 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"999999", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.1ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 999999], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 298)
  
ActiveRecord::RecordNotFound (Couldn't find MeppiTrade with 'id'="999999"):
  
app/controllers/trades_controller.rb:22:in `show'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C3"], ["name", "Country 3"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:32:00.030784"], ["updated_at", "2026-02-13 13:32:00.030784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.4ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 271], ["name", "Channel 14"], ["channel_type", "retail"], ["url", "https://example.com/channel14"], ["active", true], ["created_at", "2026-02-13 13:32:00.033025"], ["updated_at", "2026-02-13 13:32:00.033025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone18"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.2ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone18"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:32:00.034250"], ["created_at", "2026-02-13 13:32:00.035253"], ["updated_at", "2026-02-13 13:32:00.035253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.3ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 285], ["channel_id", 261], ["country_id", 271], ["title", "Trade 11"], ["brand", "Samsung"], ["price_local", "1000.0"], ["price_usd", "270.0"], ["currency", "AED"], ["stock_status", "in_stock"], ["url", "https://example.com/trade"], ["trade_type", "retail"], ["valid_until", "2026-03-15"], ["discount_percent", "10.0"], ["discount_amount_local", "100.0"], ["promo_code", "SAVE10"], ["created_at", "2026-02-13 13:32:00.036596"], ["updated_at", "2026-02-13 13:32:00.036596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/trades/289" for 127.0.0.1 at 2026-02-13 16:32:00 +0300
Processing by TradesController#show as JSON
  Parameters: {"id"=>"289", "trade"=>{}}
  [1m[36mMeppiTrade Load (0.2ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades" WHERE "meppi_trades"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 351)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started GET "/trades" for 127.0.0.1 at 2026-02-13 16:32:00 +0300
Processing by TradesController#index as JSON
  Parameters: {"trade"=>{}}
  [1m[36mMeppiTrade Load (0.3ms)[0m  [1m[34mSELECT "meppi_trades".* FROM "meppi_trades"[0m
  [1m[36mMeppiTrade Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "meppi_trades"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 476)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhone Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "phones" WHERE "phones"."url" = $1 LIMIT $2[0m  [["url", "https://example.com/phone19"], ["LIMIT", 1]]
  [1m[36mPhone Create (0.3ms)[0m  [1m[32mINSERT INTO "phones" ("brand", "model", "url", "image_url", "announced", "released", "display_size", "display_type", "display_resolution", "chipset", "cpu", "gpu", "ram", "storage", "main_camera", "selfie_camera", "battery", "os", "weight", "dimensions", "price", "specs_json", "scraped_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"[0m  [["brand", "Samsung"], ["model", "Galaxy S24"], ["url", "https://example.com/phone19"], ["image_url", "https://example.com/images/phone.jpg"], ["announced", "2024-01"], ["released", "2024-02"], ["display_size", "6.7 inches"], ["display_type", "AMOLED"], ["display_resolution", nil], ["chipset", "Snapdragon 8 Gen 3"], ["cpu", "Octa-core"], ["gpu", "Adreno 750"], ["ram", "8GB"], ["storage", "256GB"], ["main_camera", "50MP + 12MP + 10MP"], ["selfie_camera", "12MP"], ["battery", "5000mAh"], ["os", "Android 14"], ["weight", nil], ["dimensions", nil], ["price", "$999"], ["specs_json", "{\"display\": \"6.7 inches\"}"], ["scraped_at", "2026-02-13 13:32:00.045718"], ["created_at", "2026-02-13 13:32:00.046692"], ["updated_at", "2026-02-13 13:32:00.046692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCountry Create (0.3ms)[0m  [1m[32mINSERT INTO "countries" ("code", "name", "currency", "exchange_source", "priority", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["code", "C4"], ["name", "Country 4"], ["currency", "USD"], ["exchange_source", "manual"], ["priority", 1], ["active", true], ["created_at", "2026-02-13 13:32:00.048262"], ["updated_at", "2026-02-13 13:32:00.048262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChannel Create (0.3ms)[0m  [1m[32mINSERT INTO "channels" ("country_id", "name", "channel_type", "url", "active", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["country_id", 272], ["name", "Channel 15"], ["channel_type", "retail"], ["url", "https://example.com/channel15"], ["active", true], ["created_at", "2026-02-13 13:32:00.049554"], ["updated_at", "2026-02-13 13:32:00.049554"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 16:32:00 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"phone_id"=>286, "channel_id"=>262, "country_id"=>272, "title"=>"Test Trade", "brand"=>"TestBrand", "price_local"=>100.5, "price_usd"=>27.36, "currency"=>"USD", "stock_status"=>"in_stock"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMeppiTrade Create (0.7ms)[0m  [1m[32mINSERT INTO "meppi_trades" ("phone_id", "channel_id", "country_id", "title", "brand", "price_local", "price_usd", "currency", "stock_status", "url", "trade_type", "valid_until", "discount_percent", "discount_amount_local", "promo_code", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["phone_id", 286], ["channel_id", 262], ["country_id", 272], ["title", "Test Trade"], ["brand", "TestBrand"], ["price_local", "100.5"], ["price_usd", "27.36"], ["currency", "USD"], ["stock_status", "in_stock"], ["url", nil], ["trade_type", nil], ["valid_until", nil], ["discount_percent", nil], ["discount_amount_local", nil], ["promo_code", nil], ["created_at", "2026-02-13 13:32:00.051932"], ["updated_at", "2026-02-13 13:32:00.051932"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/trades" for 127.0.0.1 at 2026-02-13 16:32:00 +0300
Processing by TradesController#create as JSON
  Parameters: {"trade"=>{"price_local"=>100}}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Semantic search failed: Unexpected response: 404 - {"detail":"Not Found"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
